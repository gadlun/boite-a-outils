(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"3Y19":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var s=e("mrSG"),i=e("soBk"),a=e("fXoL");class o{constructor(t){this._restClient=t,this.lastLessons=[],this.translationsManifest={noLastLessonsFoundTranslation:"main_dashboard.no_my_last_lessons_to_display"}}getLastLessons(){return this._restClient.get("/lesson/my_last_lessons")}translations(t){const n={};if(!t)return n;for(const e of Object.keys(this.translationsManifest)){const s=this.translationsManifest[e];n[e]=s in t.labels?t.labels[s]:s+" not found in translations"}return n}initService(){return Object(s.b)(this,void 0,void 0,(function*(){this.lastLessons=yield this.getLastLessons().toPromise()}))}}o.\u0275fac=function(t){return new(t||o)(a.qc(i.A))},o.\u0275prov=a.cc({token:o,factory:o.\u0275fac})},"4rwN":function(t,n,e){"use strict";e.d(n,"a",(function(){return u}));var s=e("XNiG"),i=e("pLZG"),a=e("lJxs"),o=e("1G5W"),r=e("sftV"),c=e("XvhG"),l=e("fXoL"),d=e("jhN1");class u extends r.a{constructor(t){super(),this.eventManager=t,this.destroy$=new s.b,this.events$=new s.b,this.handlerRemover=this.eventManager.addGlobalEventListener("window","message",t=>{this.events$.next(t)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.handlerRemover()}setValue(t){const n=t?JSON.stringify(t.serialize()):null;window.opener.postMessage({key:this.getKey(),value:n},window.origin)}getValueChanges(){return this.events$.pipe(Object(i.a)(t=>null!==t&&t.origin===window.origin&&null!==t.data&&t.data.key===this.getKey()),Object(a.a)(t=>c.a.fromAPI(JSON.parse(t.data.value))),Object(o.a)(this.destroy$))}}u.\u0275fac=function(t){return new(t||u)(l.qc(d.c))},u.\u0275prov=l.cc({token:u,factory:u.\u0275fac})},"6X+E":function(t,n,e){"use strict";e.d(n,"a",(function(){return M}));e("dLnV");var s=e("soBk"),i=e("fXoL");class a{matchSampleLessons(t,n){const e=new Map;return t&&t.sampleLessons.forEach(t=>{const s=n.resources.find(n=>n.resourceId.toString()===t.resourceId);s&&e.set(s.id,t.id)}),e}}a.\u0275fac=function(t){return new(t||a)},a.\u0275prov=i.cc({token:a,factory:a.\u0275fac});var o=e("ofXK"),r=e("k4w8"),c=e("tyNb"),l=e("ykho"),d=e("gInW");function u(t,n){if(1&t&&(i.mc(0,"div",5),i.od(1,"\n        "),i.mc(2,"h2"),i.od(3),i.lc(),i.od(4,"\n        "),i.hc(5,"div",6),i.od(6,"\n    "),i.lc()),2&t){const t=i.yc(2);i.Ub(3),i.pd(t.chapter.title)}}function m(t,n){if(1&t&&(i.mc(0,"a",24),i.od(1),i.zc(2,"truncateWords"),i.lc()),2&t){const t=i.yc().$implicit,n=i.yc(2);i.Gc("routerLink",n.getLinkForLessonOrEBook(t.id)),i.Ub(1),i.qd("\n                            ",i.Bc(2,2,t.name,36),"\n                        ")}}function g(t,n){if(1&t&&(i.mc(0,"a",25),i.od(1),i.zc(2,"truncateWords"),i.lc()),2&t){const t=i.yc().$implicit;i.Ub(1),i.qd("\n                            ",i.Bc(2,1,t.name,36),"\n                        ")}}function f(t,n){if(1&t&&(i.mc(0,"a",24),i.od(1),i.zc(2,"truncateWords"),i.lc()),2&t){const t=i.yc().$implicit,n=i.yc(2);i.Gc("routerLink","/lesson/view/"+t.id+n.encodedNextUrl),i.Ub(1),i.qd("\n                            ",i.Bc(2,2,t.name,36),"\n                        ")}}function p(t,n){if(1&t&&(i.mc(0,"a",26),i.od(1),i.zc(2,"truncateWords"),i.lc()),2&t){const t=i.yc().$implicit;i.Gc("href",t.resourceUrl,i.dd),i.Ub(1),i.qd("\n                            ",i.Bc(2,2,t.name,36),"\n                        ")}}function h(t,n){if(1&t&&(i.mc(0,"button",27),i.od(1,"\n                            "),i.mc(2,"i",28),i.od(3,"\ue5d3"),i.lc(),i.od(4,"\n                        "),i.lc()),2&t){const t=i.yc().$implicit;i.Gc("id","resource_actions_"+t.id)}}function b(t,n){if(1&t&&(i.mc(0,"a",29),i.od(1),i.zc(2,"getLabel"),i.lc()),2&t){const t=i.yc().$implicit,n=i.yc(2);i.Gc("routerLink","/"+n.publisherCollectionPrefix+"/"+t.id+n.encodedNextUrl),i.Ub(1),i.qd("\n                                ",i.Bc(2,2,n.translations,"publisher.course.lesson.Details"),"\n                            ")}}const _=function(t){return{"background-image":t}},y=function(t){return{"image-gray-scale":t}};function I(t,n){if(1&t&&(i.mc(0,"a",30),i.od(1,"\n                "),i.lc()),2&t){const t=i.yc().$implicit,n=i.yc(2);i.Gc("routerLink",n.getLinkForLessonOrEBook(t.id))("ngStyle",i.Mc(3,_,"url("+t.getIcon()+")"))("ngClass",i.Mc(5,y,n.noSampleLesson(t.id)))}}function C(t,n){1&t&&(i.mc(0,"i",28),i.od(1,"\ue24d"),i.lc())}function v(t,n){if(1&t&&(i.mc(0,"a",31),i.od(1,"\n                    "),i.md(2,C,2,0,"i",32),i.od(3,"\n                "),i.lc()),2&t){const t=i.yc().$implicit;i.Gc("ngStyle",i.Mc(2,_,"url("+t.getIcon()+")")),i.Ub(2),i.Gc("ngIf",t.isFile()&&(!t.payloadObject||!t.payloadObject.icon))}}function k(t,n){if(1&t&&i.hc(0,"a",33),2&t){const t=i.yc().$implicit,n=i.yc(2);i.Gc("routerLink","/lesson/view/"+t.id+n.encodedNextUrl)("ngStyle",i.Mc(2,_,"url("+t.getIcon()+")"))}}function w(t,n){1&t&&(i.mc(0,"i",28),i.od(1,"\ue24d"),i.lc())}function L(t,n){if(1&t&&(i.mc(0,"a",34),i.od(1,"\n                    "),i.md(2,w,2,0,"i",32),i.od(3,"\n                "),i.lc()),2&t){const t=i.yc().$implicit;i.Gc("ngStyle",i.Mc(3,_,"url("+t.getIcon()+")"))("href",t.resourceUrl,i.dd),i.Ub(2),i.Gc("ngIf",t.isFile()&&(!t.payloadObject||!t.payloadObject.icon))}}const U=function(t){return{"mdl-color--common-grey-100":t}};function S(t,n){if(1&t&&(i.mc(0,"div",7),i.od(1,"\n        "),i.mc(2,"div",8),i.od(3,"\n            "),i.mc(4,"div",9),i.od(5,"\n                "),i.mc(6,"div",10),i.od(7,"\n                    "),i.mc(8,"h2",11),i.od(9,"\n                        "),i.md(10,m,3,5,"a",12),i.od(11,"\n                        "),i.md(12,g,3,4,"a",13),i.od(13,"\n                        "),i.md(14,f,3,5,"a",12),i.od(15,"\n                        "),i.md(16,p,3,5,"a",14),i.od(17,"\n                    "),i.lc(),i.od(18,"\n\n                    "),i.mc(19,"div",15),i.od(20,"\n                        "),i.md(21,h,5,1,"button",16),i.od(22,"\n\n                        "),i.mc(23,"ul",17),i.od(24,"\n                            "),i.md(25,b,3,5,"a",18),i.od(26,"\n                        "),i.lc(),i.od(27,"\n                    "),i.lc(),i.od(28,"\n                "),i.lc(),i.od(29,"\n            "),i.lc(),i.od(30,"\n            "),i.mc(31,"div",19),i.od(32,"\n                "),i.md(33,I,2,7,"a",20),i.od(34,"\n\n                "),i.md(35,v,4,4,"a",21),i.od(36,"\n\n                "),i.md(37,k,1,4,"a",22),i.od(38,"\n                "),i.md(39,L,4,5,"a",23),i.od(40,"\n            "),i.lc(),i.od(41,"\n        "),i.lc(),i.od(42,"\n    "),i.lc()),2&t){const t=n.$implicit,e=n.last,s=i.yc(2);i.Gc("mdlup",e)("ngClass",i.Mc(13,U,!s.userHasAccess&&s.noSampleLesson(t.id))),i.Ub(10),i.Gc("ngIf",t.isLessonOrEBook()&&!s.userHasAccess),i.Ub(2),i.Gc("ngIf",(t.isUrl()||t.isFile()||t.type.isMInstructor())&&!s.userHasAccess),i.Ub(2),i.Gc("ngIf",t.isContent()&&s.userHasAccess),i.Ub(2),i.Gc("ngIf",(t.isUrl()||t.isFile())&&s.userHasAccess),i.Ub(5),i.Gc("ngIf",t.isLessonOrEBook()),i.Ub(2),i.Vb("for","resource_actions_"+t.id),i.Ub(2),i.Gc("ngIf",t.isLessonOrEBook()),i.Ub(8),i.Gc("ngIf",t.isLessonOrEBook()&&!s.userHasAccess),i.Ub(2),i.Gc("ngIf",(t.isUrl()||t.isFile()||t.type.isMInstructor())&&!s.userHasAccess),i.Ub(2),i.Gc("ngIf",t.isContent()&&s.userHasAccess),i.Ub(2),i.Gc("ngIf",(t.isUrl()||t.isFile())&&s.userHasAccess)}}function x(t,n){if(1&t&&i.hc(0,"publisher-collection-chapter",35),2&t){const t=n.$implicit,e=i.yc(2);i.Gc("collection",e.collection)("collectionDetails",e.collectionDetails)("chapter",t)("userHasAccess",e.userHasAccess)("translations",e.translations)("rawNextUrl",e.rawNextUrl)}}const G=function(t,n){return{"has-left-padding":t,"has-top-padding":n}};function T(t,n){if(1&t&&(i.mc(0,"section",1),i.od(1,"\n    "),i.md(2,u,7,1,"div",2),i.od(3,"\n\n    "),i.md(4,S,43,15,"div",3),i.od(5,"\n\n    "),i.md(6,x,1,6,"publisher-collection-chapter",4),i.od(7,"\n"),i.lc()),2&t){const t=i.yc();i.Gc("ngClass",i.Nc(4,G,t.hasLeftPadding,t.hasTopPadding)),i.Ub(2),i.Gc("ngIf",t.chapter),i.Ub(2),i.Gc("ngForOf",t.resources),i.Ub(2),i.Gc("ngForOf",t.chapters)}}class M{constructor(t,n){this._paths=t,this._publisherCollectionChapter=n,this.rawNextUrl="",this.userHasAccess=!1,this.hasLeftPadding=!1,this.hasTopPadding=!1,this.nextUrl="/",this.encodedNextUrl="/next/"}ngOnInit(){this.publisherCollectionPrefix=this.collection.owner.data.url+"/"+this.collection.url,this.nextUrl+=this.publisherCollectionPrefix+"/toc"+this.rawNextUrl,this.encodedNextUrl+=this._paths.encodeNextUrl(this.nextUrl);const t=this.chapter?this.chapter.id:null;this.chapter&&!this.chapter.parentChapter||(this.hasLeftPadding=!0),this.chapters=this.collection.chapters.filter(n=>n.parentChapter===t),this.resources=this.collection.resources.filter(n=>n.parentChapter===t),!this.chapter&&this.resources.length&&(this.hasTopPadding=!0),this.sampleLessonMap=this._publisherCollectionChapter.matchSampleLessons(this.collectionDetails,this.collection)}getLinkForLessonOrEBook(t){const n=this.sampleLessonMap.get(t);return n?`/structure/demo/${n}${this.encodedNextUrl}`:`/${this.publisherCollectionPrefix}/${t}${this.encodedNextUrl}`}noSampleLesson(t){return!this.sampleLessonMap.has(t)}}M.\u0275fac=function(t){return new(t||M)(i.gc(s.w),i.gc(a))},M.\u0275cmp=i.ac({type:M,selectors:[["publisher-collection-chapter"]],inputs:{collection:"collection",collectionDetails:"collectionDetails",chapter:"chapter",translations:"translations",rawNextUrl:"rawNextUrl",userHasAccess:"userHasAccess"},features:[i.Tb([a])],decls:2,vars:1,consts:[["class","section chapter",3,"ngClass",4,"ngIf"],[1,"section","chapter",3,"ngClass"],["class","section-title flex-row",4,"ngIf"],["class","resource-card mdl-card mdl-shadow--2dp",3,"mdlup","ngClass",4,"ngFor","ngForOf"],[3,"collection","collectionDetails","chapter","userHasAccess","translations","rawNextUrl",4,"ngFor","ngForOf"],[1,"section-title","flex-row"],[1,"mdl-layout-spacer","stepper-line"],[1,"resource-card","mdl-card","mdl-shadow--2dp",3,"mdlup","ngClass"],[1,"resource-card__body"],[1,"mdl-card__title"],[1,"resource-card__title-wrapper"],[1,"mdl-card__title-text"],["class","card-link",3,"routerLink",4,"ngIf"],["class","card-link",4,"ngIf"],["target","_blank","class","card-link",3,"href",4,"ngIf"],[1,"mdl-card__subtitle-text"],["class","mdl-button mdl-js-button mdl-button--icon resource-card__actions",3,"id",4,"ngIf"],[1,"mdl-menu","mdl-menu--top-left","mdl-js-menu","mdl-js-ripple-effect"],["class","mdl-menu__item",3,"routerLink",4,"ngIf"],[1,"resource-card__icon"],["class","card-link",3,"routerLink","ngStyle","ngClass",4,"ngIf"],["class","card-link",3,"ngStyle",4,"ngIf"],["class","card-link",3,"routerLink","ngStyle",4,"ngIf"],["target","_blank","class","card-link",3,"ngStyle","href",4,"ngIf"],[1,"card-link",3,"routerLink"],[1,"card-link"],["target","_blank",1,"card-link",3,"href"],[1,"mdl-button","mdl-js-button","mdl-button--icon","resource-card__actions",3,"id"],[1,"material-icons"],[1,"mdl-menu__item",3,"routerLink"],[1,"card-link",3,"routerLink","ngStyle","ngClass"],[1,"card-link",3,"ngStyle"],["class","material-icons",4,"ngIf"],[1,"card-link",3,"routerLink","ngStyle"],["target","_blank",1,"card-link",3,"ngStyle","href"],[3,"collection","collectionDetails","chapter","userHasAccess","translations","rawNextUrl"]],template:function(t,n){1&t&&(i.md(0,T,8,7,"section",0),i.od(1,"\n")),2&t&&i.Gc("ngIf",n.resources.length>0||n.chapters.length>0)},directives:[o.t,o.q,o.s,r.a,c.k,o.w,M],pipes:[l.a,d.l],encapsulation:2})},B5IK:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var s=e("soBk"),i=e("fXoL");class a{constructor(t){this._restClient=t}query(){return this._restClient.get("/custom_dashboard")}get(t){return this._restClient.get("/custom_dashboard/"+t)}update(t,n){return this._restClient.put("/custom_dashboard/"+t,n)}delete(t){return this._restClient.delete("/custom_dashboard/"+t)}create(t){return this._restClient.post("/custom_dashboard",t)}getUserDashboard(){return this._restClient.get("/custom_dashboard/get_custom_dashboard_for_user")}}a.\u0275fac=function(t){return new(t||a)(i.qc(s.A))},a.\u0275prov=i.cc({token:a,factory:a.\u0275fac})},CIl4:function(t,n,e){"use strict";e.d(n,"a",(function(){return x}));var s=e("LRne"),i=e("z6cu"),a=e("fXoL"),o=e("4ZsI"),r=e("Nxst"),c=e("soBk"),l=e("JIr8"),d=e("lJxs"),u=e("vkgz"),m=e("U6AE"),g=e("x7de"),f=e("0IaG"),p=e("ofXK"),h=e("CENg"),b=e("8UGN"),_=e("DAcC"),y=e("gInW");const I=["additionalOptions"],C=function(t){return{element:t}};function v(t,n){if(1&t&&(a.od(0,"\n                "),a.kc(1,8),a.od(2,"\n                "),a.jc(),a.od(3,"\n            ")),2&t){const t=n.element,e=a.yc(3);a.Ub(1),a.Gc("ngTemplateOutlet",e.additionalOptionsRef)("ngTemplateOutletContext",a.Mc(2,C,t))}}function k(t,n){if(1&t&&(a.mc(0,"span"),a.od(1),a.zc(2,"getLabel"),a.lc()),2&t){const t=a.yc(4);a.Ub(1),a.qd("\n                    ",a.Bc(2,1,t.translations,"plain.publishers.manage_collections.manage_custom_TOC.table.default"),"\n                ")}}function w(t,n){if(1&t&&(a.od(0,"\n                "),a.md(1,k,3,4,"span",9),a.od(2,"\n            ")),2&t){const t=n.element,e=a.yc(3);a.Ub(1),a.Gc("ngIf",e.customTOC&&e.customTOC.customSiteId===t.id)}}function L(t,n){if(1&t){const t=a.nc();a.mc(0,"div",4),a.od(1,"\n        "),a.mc(2,"app-site-management",5),a.uc("delete",(function(e){a.ad(t);const s=n.ngIf,i=a.yc(2);return i.onDelete(s,e,i.translations)}))("refresh",(function(){a.ad(t);return a.yc(2).onRefresh()}))("update",(function(e){a.ad(t);const s=n.ngIf,i=a.yc(2);return i.onEdit(e,i.translations,s)}))("preview",(function(n){a.ad(t);return a.yc(2).onPreview(n)})),a.od(3,"\n            "),a.md(4,v,4,4,"ng-template",null,6,a.nd),a.od(6,"\n\n            "),a.md(7,w,3,1,"ng-template",null,7,a.nd),a.od(9,"\n        "),a.lc(),a.od(10,"\n    "),a.lc()}if(2&t){const t=n.ngIf,e=a.yc(2);a.Ub(2),a.Gc("customSites",t)("timezoneSettings",e.timezoneSettings)("translations",e.translations)}}function U(t,n){if(1&t&&(a.kc(0),a.od(1,"\n    "),a.md(2,L,11,3,"div",3),a.zc(3,"async"),a.od(4,"\n"),a.jc()),2&t){const t=a.yc(),n=a.Wc(6);a.Ub(2),a.Gc("ngIf",a.Ac(3,2,t.customSites$))("ngIfElse",n)}}function S(t,n){1&t&&(a.od(0,"\n    "),a.mc(1,"div",10),a.od(2,"\n        "),a.hc(3,"app-loading"),a.od(4,"\n    "),a.lc(),a.od(5,"\n"))}class x{constructor(t,n,e,s,i,o){this._customSiteService=t,this._settings=n,this._infoMessage=e,this._dialog=s,this._authUser=i,this._timezoneSettings=o,this.customSitesUpdate=new a.u,this.preview=new a.u,this.timezoneSettings=null}ngOnInit(){this._timezoneSettings.getTimezoneSettings().subscribe(t=>this.timezoneSettings=t),this.getCustomSites()}onRefresh(){this.getCustomSites()}onDelete(t,n,e){this._dialog.open(m.a,{data:{question:"admin.manage_custom_sites.table.delete_entry.question",header:"admin.manage_custom_sites.table.delete_entry.header",translations:e}}).afterClosed().subscribe(e=>{e&&(this.customSites$=this.mapCustomSites(this._customSiteService.deleteCustomSite(n,r.a.PUBLISHER)).pipe(Object(l.a)(n=>{if(409===n.status){const t=this.translations.labels["plain.publishers.manage_collections.remove_toc.in_use"]||"";this._infoMessage.addError(t.replace("{}",n.body))}else this._infoMessage.addError(this.translations.labels["plain.publishers.manage_collections.remove_toc.unknown"]);return Object(s.a)(t)})))})}onEdit(t,n,e){this.customSites$=this.mapCustomSites(this._customSiteService.updateCustomSite(t.id,r.a.PUBLISHER,{name:t.name}).pipe(Object(d.a)(n=>n.map(n=>(n.id===t.id&&(n.name=t.name),n))),Object(l.a)(t=>(t.body.name&&t.body.name[0].indexOf("no more")>=0?this._infoMessage.addError(n.labels["admin.manage_custom_sites.update.too_long_name"]):this._infoMessage.addError(n.labels["admin.manage_custom_sites.update.undefined"]),Object(s.a)(e)))))}onAddElement(t){this.customSites$=this.mapCustomSites(this._customSiteService.uploadCustomSite(t.fileId,r.a.PUBLISHER).pipe(Object(u.a)(()=>{this._infoMessage.addSuccess(this.translations.labels["admin.manage_custom_sites.uploading_done"])}),Object(l.a)(t=>(this._infoMessage.addError(this.translations.labels["admin.manage_custom_sites.uploading_error"]),Object(i.a)(t)))))}onPreview(t){this.preview.next(t)}getCustomSites(){this.customSites$=this.mapCustomSites(this._customSiteService.getCustomSitesList(r.a.PUBLISHER))}mapCustomSites(t){return t.pipe(Object(u.a)(t=>this.customSitesUpdate.next(t)))}}x.\u0275fac=function(t){return new(t||x)(a.gc(o.a),a.gc(c.D),a.gc(c.o),a.gc(f.b),a.gc(c.f),a.gc(g.a))},x.\u0275cmp=a.ac({type:x,selectors:[["app-publisher-panel"]],contentQueries:function(t,n,e){var s;(1&t&&a.Zb(e,I,!0),2&t)&&(a.Vc(s=a.vc())&&(n.additionalOptionsRef=s.first))},inputs:{translations:"translations",customTOC:"customTOC"},outputs:{customSitesUpdate:"customSitesUpdate",preview:"preview"},features:[a.Tb([o.a])],decls:8,vars:3,consts:[[4,"ngIf","ngIfElse"],[3,"translations","uploadedFile"],["loading",""],["class","publisher-panel-site-management__management-wrapper",4,"ngIf","ngIfElse"],[1,"publisher-panel-site-management__management-wrapper"],[3,"customSites","timezoneSettings","translations","delete","refresh","update","preview"],["additionalOptions",""],["additionalMarker",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"app-loading-wrapper"]],template:function(t,n){if(1&t&&(a.md(0,U,5,4,"ng-container",0),a.od(1,"\n\n"),a.mc(2,"app-upload-site-button",1),a.uc("uploadedFile",(function(t){return n.onAddElement(t)})),a.od(3,"\n"),a.lc(),a.od(4,"\n\n"),a.md(5,S,6,0,"ng-template",null,2,a.nd),a.od(7,"\n")),2&t){const t=a.Wc(6);a.Gc("ngIf",n.timezoneSettings)("ngIfElse",t),a.Ub(2),a.Gc("translations",n.translations)}},directives:[p.t,h.a,b.a,p.A,_.v],pipes:[p.b,y.l],encapsulation:2})},CvZm:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var s=e("NFeN"),i=e("fXoL");class a{}a.\u0275mod=i.ec({type:a}),a.\u0275inj=i.dc({factory:function(t){return new(t||a)},imports:[[s.b]]})},GQEW:function(t,n,e){"use strict";e.r(n),e.d(n,"LessonNoteModule",(function(){return g}));var s=e("ofXK"),i=e("8LM8"),a=e("tyNb"),o=e("93rp"),r=e("fXoL");class c{constructor(t,n){this._router=t,this._activatedRoute=n,this._redirectUrl="courses/bookmarks"}ngOnInit(){this._activatedRoute.url.subscribe(t=>{const n=this._redirectUrl+"/"+t.join("/");this._router.navigate([n])})}}c.\u0275fac=function(t){return new(t||c)(r.gc(a.g),r.gc(a.a))},c.\u0275cmp=r.ac({type:c,selectors:[["app-bookmarks-redirection"]],decls:0,vars:0,template:function(t,n){},encapsulation:2});const l=[{path:"",component:c,canActivate:[o.b],data:{title:"notes"}},{path:"list",component:c,canActivate:[o.b],data:{title:"notes.list"}},{path:"list/:courseId",component:c,canActivate:[o.b],data:{title:"notes.list.%path_id"}}];var d=e("M9IT"),u=e("Dh3D"),m=e("CvZm");class g{}g.\u0275mod=r.ec({type:g}),g.\u0275inj=r.dc({factory:function(t){return new(t||g)},imports:[[s.c,i.a,a.l.forChild(l),d.c,u.c,m.a]]})},KMgC:function(t,n,e){"use strict";e.d(n,"b",(function(){return l})),e.d(n,"a",(function(){return d}));var s=e("mrSG"),i=e("rzIH"),a=e("soBk");class o{constructor(t,n){this.component=t,this.data=n}}var r=e("3Y19"),c=e("fXoL");const l=[r.a];class d{constructor(t,n){this._translations=t,this._lastLessons=n}loadServices(){return Object(s.b)(this,void 0,void 0,(function*(){this.translations=yield this._translations.getTranslations().toPromise(),yield this._lastLessons.initService()}))}getComponentsManifest(){return[new o(i.S,{lastLessons:this._lastLessons.lastLessons,translations:this._lastLessons.translations(this.translations)})]}mapColumn(t,n){return t.filter(t=>t.x_position===n)}getComponentsList(){return this.getComponentsManifest().map(t=>t.component.name)}matchComponent(t){for(const n of this.getComponentsManifest())if(n.component.name===t)return n;return new o(i.w,{})}mapComponent(t){return Object.assign({component:this.matchComponent(t.component_name)},t)}}d.\u0275fac=function(t){return new(t||d)(c.qc(a.F),c.qc(r.a))},d.\u0275prov=c.cc({token:d,factory:d.\u0275fac})},LU7d:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var s=e("lJxs"),i=e("aJOX");class a{constructor(t,n){this.student=t,this.personalData=n}}class o{constructor(t){this.label=t.section_label,this.name=t.section_name,this.atributes=t.attributes}}var r=e("xMd4"),c=e("fXoL");class l{constructor(t){this._restClient=t}getSchoolClassStudentsPersonalData(t){return this._restClient.get("/gradebook/personaldata/schoolclass/"+t)}getSchoolClassStudentPersonalData(t,n){return this._restClient.get("/gradebook/personaldata/schoolclass/"+t+"/student/"+n)}updateStudentPersonalData(t,n,e){return this._restClient.post("/gradebook/personaldata/schoolclass/"+t+"/student/"+n,e)}getPersonalDataConfig(){return this._restClient.get("/gradebook/personaldata/config").pipe(Object(s.a)(t=>t.map(t=>new o(t))))}static joinPersonalDataWithStudents(t,n){let e=[];for(let s of n){let n,i=t.students_data.find((t,n,e)=>t.student==s.id);n=i?i.personal_data:{},e.push(new a(s,n))}return e.sort((t,n)=>r.a.sortUsers(t.student,n.student)),e}}l.\u0275fac=function(t){return new(t||l)(c.qc(i.c))},l.\u0275prov=c.cc({token:l,factory:l.\u0275fac})},To28:function(t,n,e){"use strict";e.d(n,"b",(function(){return s})),e.d(n,"a",(function(){return i}));class s{constructor(t,n){this.index=t,this.points=n}static fromAPI(t){return new s(t.index,t.points)}serializeForAPI(){return{points:this.points,index:this.index}}updatePoints(t){this.points=t}}class i{constructor(t,n,e,s,i){this.assessmentId=t,this.manualPoints=n,this.maxPoints=e,this.pagePoints=s,this.userId=i}static fromAPI(t){const n=t.page_points.map(t=>s.fromAPI(t));return new i(t.assessment_id,t.manual_points,t.max_points,n,t.user_id)}serializeForAPI(){return{manual_points:this.manualPoints,max_points:this.maxPoints,page_points:this.pagePoints.map(t=>t.serializeForAPI())}}getPageByIndex(t){return this.pagePoints.find(n=>n.index===t)}}},XvhG:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var s=e("To28");class i{constructor(t,n,e,s){this.assessmentID=t,this.groupID=n,this.userID=e,this.manualGrading=s}serialize(){return{assessmentID:this.assessmentID,groupID:this.groupID,userID:this.userID,manualGrading:this.manualGrading.serializeForAPI()}}static fromAPI(t){const n=s.a.fromAPI(t.manualGrading);return new i(t.assessmentID,t.groupID,t.userID,n)}}},bmnC:function(t,n,e){"use strict";function s(t,n,e){const s=new URL(t);return s.searchParams.set(n,e),s.toString()}e.d(n,"a",(function(){return s}))},"fr/o":function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var s=e("ofXK"),i=e("3Pt+"),a=e("tyNb"),o=e("tk/3"),r=e("jaxi"),c=e("8LM8"),l=e("fXoL");class d{}d.\u0275mod=l.ec({type:d}),d.\u0275inj=l.dc({factory:function(t){return new(t||d)},imports:[[s.c,i.n,a.l,o.b,r.c,c.a]]})},lXKm:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var s=e("lJxs"),i=e("soBk");class a{constructor(t){this.tags=[],t&&(this.id=t.id,this.name=t.name,this.created=t.created,this.tags=t.tags,this.className=t.class_name,this.bookName=t.book_name,this.publisherName=t.publisher_name,this.subjectName=t.subject_name,this.educationalStepName=t.educational_step_name)}raw(){return{id:this.id,name:this.name,created:this.created,tags:this.tags,class_name:this.className,book_name:this.bookName,publisher_name:this.publisherName,subject_name:this.subjectName,educational_step_name:this.educationalStepName}}}var o=e("ol0M"),r=e("fXoL");const c="/admin/repository/sylabus";class l{constructor(t){this._restClient=t}importSylabuse(t){return this._restClient.post("/admin/repository/sylabus/import",{file_id:t.fileId}).pipe(Object(s.a)(this.mapSylabus))}getSylabuses(){return this._restClient.get(c).pipe(Object(s.a)(this.mapSylabuses))}getSylabus(t){return this._restClient.get(c+"/"+t).pipe(Object(s.a)(this.mapSylabus))}getSylabusTopics(t){return this._restClient.get(c+"/"+t+"/topics").pipe(Object(s.a)(this.mapTopics))}updateSylabus(t){let n=t.raw();return this._restClient.put(c+"/"+t.id,n).pipe(Object(s.a)(this.mapSylabus))}deleteSylabus(t){return this._restClient.delete(c+"/"+t.id)}copySylabus(t){return this._restClient.put(c+"/"+t.id+"/copy",{})}mapSylabuses(t){return t.map(t=>new a(t))}mapSylabus(t){return new a(t)}mapTopics(t){return t.map(t=>new o.b(t))}}l.\u0275fac=function(t){return new(t||l)(r.qc(i.A))},l.\u0275prov=r.cc({token:l,factory:l.\u0275fac})},nTfj:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var s=e("fXoL"),i=e("tyNb");class a{}a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=s.ac({type:a,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,n){1&t&&s.hc(0,"router-outlet")},directives:[i.m],encapsulation:2})},qzkA:function(t,n,e){"use strict";var s;e.d(n,"a",(function(){return s})),function(t){t[t.DETAILS=0]="DETAILS"}(s||(s={}))},sDGj:function(t,n,e){"use strict";e.d(n,"a",(function(){return c}));var s=e("qFsG"),i=e("3Pt+"),a=e("ofXK"),o=e("kmnG"),r=e("fXoL");class c{}c.\u0275mod=r.ec({type:c}),c.\u0275inj=r.dc({factory:function(t){return new(t||c)},imports:[[a.c,o.e,i.n,s.c]]})},sKbF:function(t,n,e){"use strict";e.d(n,"a",(function(){return L}));var s=e("fXoL"),i=(e("dLnV"),e("OZLH"),e("y3tX")),a=e("ofXK"),o=e("f0Cb"),r=e("bSwM"),c=e("3Pt+"),l=e("bTqV"),d=e("gInW"),u=e("ykho");function m(t,n){if(1&t){const t=s.nc();s.mc(0,"span",11),s.od(1),s.zc(2,"truncateWords"),s.zc(3,"getLabel"),s.mc(4,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(3);return e.toggleRegulation(n,e.regulationsUI.informationInfo)})),s.od(5),s.zc(6,"getLabel"),s.lc(),s.od(7,"\n        "),s.lc()}if(2&t){const t=s.yc(3);s.Ub(1),s.qd("\n            ",s.Bc(2,3,s.Bc(3,6,t.translations,"registration_type1.regulation_information_info"),110),"\n            "),s.Ub(3),s.Vb("aria-label",t.getAriaLabel("registration_type1.expand_aria_label","registration_type1.marketing_content")),s.Ub(1),s.qd("\n                ",s.Bc(6,9,t.translations,"registration_type1.expand"),"\n            ")}}function g(t,n){if(1&t){const t=s.nc();s.mc(0,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(4);return e.toggleRegulation(n,e.regulationsUI.informationInfo)})),s.od(1),s.zc(2,"getLabel"),s.lc()}if(2&t){const t=s.yc(4);s.Vb("aria-label",t.getAriaLabel("registration_type1.collapse_aria_label","registration_type1.marketing_content")),s.Ub(1),s.qd("\n                ",s.Bc(2,2,t.translations,"registration_type1.collapse"),"\n            ")}}function f(t,n){if(1&t&&(s.mc(0,"span",11),s.od(1),s.zc(2,"getLabel"),s.md(3,g,3,5,"button",13),s.od(4,"\n        "),s.lc()),2&t){const t=s.yc(3);s.Ub(1),s.qd("\n            ",s.Bc(2,2,t.translations,"registration_type1.regulation_information_info"),"\n            "),s.Ub(2),s.Gc("ngIf",!t.hideExpandRegulationInformationInfo)}}function p(t,n){if(1&t){const t=s.nc();s.mc(0,"div",4),s.od(1,"\n        "),s.hc(2,"label",9),s.od(3,"\n        "),s.mc(4,"mat-checkbox",10),s.uc("ngModelChange",(function(n){s.ad(t);return s.yc(2).regulationInformationInfo=n}))("change",(function(n){s.ad(t);return s.yc(2).regulationInformationInfoChange.emit(n.checked)})),s.zc(5,"getLabel"),s.lc(),s.od(6,"\n        "),s.md(7,m,8,12,"span",7),s.od(8,"\n        "),s.md(9,f,5,5,"span",7),s.od(10,"\n    "),s.lc()}if(2&t){const t=s.yc(2);s.Ub(4),s.Gc("ngModel",t.regulationInformationInfo)("aria-label",s.Bc(5,4,t.translations,"registration_type1.regulation_information_info")),s.Ub(3),s.Gc("ngIf",!t.regulationsUI.informationInfo.isExpanded),s.Ub(2),s.Gc("ngIf",t.regulationsUI.informationInfo.isExpanded)}}function h(t,n){if(1&t&&(s.mc(0,"div",14),s.od(1),s.zc(2,"getLabel"),s.lc()),2&t){const t=s.yc(2);s.Ub(1),s.qd("\n        ",s.Bc(2,1,t.translations,"lorepo.profile.forms.email.required"),"\n    ")}}function b(t,n){if(1&t){const t=s.nc();s.mc(0,"span",11),s.od(1),s.zc(2,"truncateWords"),s.zc(3,"getLabel"),s.mc(4,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(2);return e.toggleRegulation(n,e.regulationsUI.marketing)})),s.od(5),s.zc(6,"getLabel"),s.lc(),s.od(7,"\n        "),s.lc()}if(2&t){const t=s.yc(2);s.Ub(1),s.qd("\n            ",s.Bc(2,3,s.Bc(3,6,t.translations,"registration_type1.regulation_marketing"),110),"\n            "),s.Ub(3),s.Vb("aria-label",t.getAriaLabel("registration_type1.expand_aria_label","registration_type1.personal_data_consent")),s.Ub(1),s.qd("\n                ",s.Bc(6,9,t.translations,"registration_type1.expand"),"\n            ")}}function _(t,n){if(1&t){const t=s.nc();s.mc(0,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(3);return e.toggleRegulation(n,e.regulationsUI.marketing)})),s.od(1),s.zc(2,"getLabel"),s.lc()}if(2&t){const t=s.yc(3);s.Vb("aria-label",t.getAriaLabel("registration_type1.collapse_aria_label","registration_type1.personal_data_consent")),s.Ub(1),s.qd("\n                ",s.Bc(2,2,t.translations,"registration_type1.collapse"),"\n            ")}}function y(t,n){if(1&t&&(s.mc(0,"span",11),s.od(1),s.zc(2,"getLabel"),s.md(3,_,3,5,"button",13),s.od(4,"\n        "),s.lc()),2&t){const t=s.yc(2);s.Ub(1),s.qd("\n            ",s.Bc(2,2,t.translations,"registration_type1.regulation_marketing"),"\n            "),s.Ub(2),s.Gc("ngIf",!t.hideExpandRegulationMarketing)}}function I(t,n){if(1&t&&(s.mc(0,"div",14),s.od(1),s.zc(2,"getLabel"),s.lc()),2&t){const t=s.yc(2);s.Ub(1),s.qd("\n        ",s.Bc(2,1,t.translations,"lorepo.profile.forms.email.required"),"\n    ")}}function C(t,n){if(1&t){const t=s.nc();s.mc(0,"span",11),s.od(1),s.zc(2,"truncateWords"),s.zc(3,"getLabel"),s.mc(4,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(2);return e.toggleRegulation(n,e.regulationsUI.data)})),s.od(5),s.zc(6,"getLabel"),s.lc(),s.od(7,"\n        "),s.lc()}if(2&t){const t=s.yc(2);s.Ub(1),s.qd("\n            ",s.Bc(2,3,s.Bc(3,6,t.translations,"registration_type1.data_information"),130),"\n            "),s.Ub(3),s.Vb("aria-label",t.getAriaLabel("registration_type1.expand","registration_type1.personal_data_administrator")),s.Ub(1),s.qd("\n                ",s.Bc(6,9,t.translations,"registration_type1.expand"),"\n            ")}}function v(t,n){if(1&t){const t=s.nc();s.mc(0,"button",12),s.uc("click",(function(n){s.ad(t);const e=s.yc(3);return e.toggleRegulation(n,e.regulationsUI.data)})),s.od(1),s.zc(2,"getLabel"),s.lc()}if(2&t){const t=s.yc(3);s.Vb("aria-label",t.getAriaLabel("registration_type1.expand","registration_type1.personal_data_administrator")),s.Ub(1),s.qd("\n                ",s.Bc(2,2,t.translations,"registration_type1.collapse"),"\n            ")}}function k(t,n){if(1&t&&(s.mc(0,"span",11),s.od(1),s.zc(2,"getLabel"),s.md(3,v,3,5,"button",13),s.od(4,"\n        "),s.lc()),2&t){const t=s.yc(2);s.Ub(1),s.qd("\n            ",s.Bc(2,2,t.translations,"registration_type1.data_information"),"\n            "),s.Ub(2),s.Gc("ngIf",!t.hideExpandData)}}function w(t,n){if(1&t){const t=s.nc();s.mc(0,"div",1),s.od(1,"\n    "),s.md(2,p,11,7,"div",2),s.od(3,"\n\n    "),s.hc(4,"mat-divider"),s.od(5,"\n\n    "),s.md(6,h,3,4,"div",3),s.od(7,"\n    "),s.mc(8,"div",4),s.od(9,"\n        "),s.hc(10,"label",5),s.od(11,"\n        "),s.mc(12,"mat-checkbox",6),s.uc("ngModelChange",(function(n){s.ad(t);return s.yc().regulationMarketing=n}))("change",(function(n){s.ad(t);return s.yc().regulationMarketingChange.emit(n.checked)})),s.zc(13,"getLabel"),s.lc(),s.od(14,"\n        "),s.md(15,b,8,12,"span",7),s.od(16,"\n        "),s.md(17,y,5,5,"span",7),s.od(18,"\n    "),s.lc(),s.od(19,"\n    "),s.md(20,I,3,4,"div",3),s.od(21,"\n\n    "),s.mc(22,"div",8),s.od(23,"\n        "),s.md(24,C,8,12,"span",7),s.od(25,"\n        "),s.md(26,k,5,5,"span",7),s.od(27,"\n    "),s.lc(),s.od(28,"\n"),s.lc()}if(2&t){const t=s.yc();s.Ub(2),s.Gc("ngIf",!t.settings.isLearnigo()),s.Ub(4),s.Gc("ngIf",!t.isValidRegulationInformationInfo),s.Ub(6),s.Gc("ngModel",t.regulationMarketing)("aria-label",s.Bc(13,9,t.translations,"registration_type1.regulation_marketing")),s.Ub(3),s.Gc("ngIf",!t.regulationsUI.marketing.isExpanded),s.Ub(2),s.Gc("ngIf",t.regulationsUI.marketing.isExpanded),s.Ub(3),s.Gc("ngIf",!t.isValidRegulationMarketing),s.Ub(4),s.Gc("ngIf",!t.regulationsUI.data.isExpanded),s.Ub(2),s.Gc("ngIf",t.regulationsUI.data.isExpanded)}}class L{constructor(t){this.accountsService=t,this.regulationInformationInfo=!1,this.isValidRegulationInformationInfo=!1,this.hideExpandRegulationInformationInfo=!1,this.regulationMarketing=!1,this.isValidRegulationMarketing=!1,this.hideExpandRegulationMarketing=!1,this.hideExpandData=!1,this.regulationInformationInfoChange=new s.u,this.regulationMarketingChange=new s.u,this.forceDisplayRegulations=!1}toggleRegulation(t,n){t.stopPropagation(),t.preventDefault(),n.toggleExpand()}getAriaLabel(t,n){return this.accountsService.getAriaLabel(this.translations,t,n)}}L.\u0275fac=function(t){return new(t||L)(s.gc(i.a))},L.\u0275cmp=s.ac({type:L,selectors:[["app-accounts-agreements"]],inputs:{translations:"translations",settings:"settings",regulationInformationInfo:"regulationInformationInfo",isValidRegulationInformationInfo:"isValidRegulationInformationInfo",hideExpandRegulationInformationInfo:"hideExpandRegulationInformationInfo",regulationMarketing:"regulationMarketing",isValidRegulationMarketing:"isValidRegulationMarketing",hideExpandRegulationMarketing:"hideExpandRegulationMarketing",hideExpandData:"hideExpandData",accountsSettings:"accountsSettings",regulationsUI:"regulationsUI",forceDisplayRegulations:"forceDisplayRegulations"},outputs:{regulationInformationInfoChange:"regulationInformationInfoChange",regulationMarketingChange:"regulationMarketingChange"},decls:2,vars:1,consts:[["id","accounts-register-agreements","class","aggrements-info",4,"ngIf"],["id","accounts-register-agreements",1,"aggrements-info"],["class","consent-row",4,"ngIf"],["class","error-list form-alert",4,"ngIf"],[1,"consent-row"],["for","register-regulation-marketing"],["color","primary","id","register-regulation-marketing","name","register-regulation-marketing",3,"ngModel","aria-label","ngModelChange","change"],["class","expandable-regulations",4,"ngIf"],[1,"expandable-regulations-without-checkbox"],["for","register-regulation-information-info"],["color","primary","name","register-regulation-information-info","id","register-regulation-information-info",3,"ngModel","aria-label","ngModelChange","change"],[1,"expandable-regulations"],["color","accent","mat-button","",1,"expandable-regulations__button",3,"click"],["class","expandable-regulations__button","color","accent","mat-button","",3,"click",4,"ngIf"],[1,"error-list","form-alert"]],template:function(t,n){1&t&&(s.md(0,w,29,12,"div",0),s.od(1,"\n")),2&t&&s.Gc("ngIf",n.forceDisplayRegulations||n.accountsSettings.registrationType.withRegulations||n.accountsSettings.registrationType.withOptionalRegulations)},directives:[a.t,o.a,r.a,c.t,c.w,l.b],pipes:[d.l,u.a],encapsulation:2})},sftV:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var s=e("fXoL");class i{constructor(){this.version=1}getKey(){return""+this.keyPrefix}get keyPrefix(){return"assessments/grading/"+this.version}}i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.cc({token:i,factory:i.\u0275fac})},txwN:function(t,n,e){"use strict";e.d(n,"a",(function(){return d}));var s=e("ofXK"),i=e("oAKO"),a=e("s9w1"),o=e("u0Jy"),r=e("fXoL");class c{}c.\u0275mod=r.ec({type:c}),c.\u0275inj=r.dc({factory:function(t){return new(t||c)},imports:[[s.c]]});var l=e("EEEy");class d{}d.\u0275mod=r.ec({type:d}),d.\u0275inj=r.dc({factory:function(t){return new(t||d)},imports:[[s.c,l.a,a.a,i.a,o.a,c]]})},wBMY:function(t,n,e){"use strict";e.d(n,"a",(function(){return _}));var s=e("fXoL"),i=e("i0ZI"),a=e("qzkA"),o=(e("UTBW"),e("cxMr")),r=e("bTqV"),c=e("FrRO");class l{constructor(){}transform(t,n){return t?this.modifiedFormatTime(t,n):`0 ${n.labels["datetime.dateformat.days"]} 0 ${n.labels["datetime.dateformat.hours"]} 0 ${n.labels["datetime.dateformat.minutes"]}`}modifiedFormatTime(t,n){const e=Math.round(t/1e3),s=Math.round(e/3600/24),i=Math.floor((e-3600*s*24)/3600),a=Math.round((e-3600*s*24-3600*i)/60);return`${s} ${n.labels[1!==s?"datetime.dateformat.days":"datetime.dateformat.day"]} \n        ${i} ${n.labels[1!==i?"datetime.dateformat.hours":"datetime.dateformat.hour"]} \n        ${a} ${n.labels[1!==a?"datetime.dateformat.minutes":"datetime.dateformat.minute"]}`}}l.\u0275fac=function(t){return new(t||l)},l.\u0275pipe=s.fc({name:"modifiedFormatTime",type:l,pure:!0});var d=e("1aK7");function u(t,n){if(1&t){const t=s.nc();s.od(0,"\n    "),s.mc(1,"div",6),s.od(2,"\n        "),s.mc(3,"button",7),s.uc("click",(function(){s.ad(t);const e=n.element;return s.yc().detailsClicked(e)})),s.od(4),s.lc(),s.od(5,"\n    "),s.lc(),s.od(6,"\n")}if(2&t){const t=s.yc();s.Ub(4),s.qd("\n            ",t.translations.details,"\n        ")}}function m(t,n){if(1&t&&(s.od(0,"\n    "),s.mc(1,"span",8),s.od(2),s.lc(),s.od(3,"\n")),2&t){const t=n.element,e=s.yc();s.Ub(2),s.sd("\n        ",t.gradeLabel,"",e.translations.gradeLabelsSeparator,"",t.maximumGradeLabel,"")}}function g(t,n){if(1&t&&(s.od(0,"\n    "),s.mc(1,"span"),s.od(2),s.zc(3,"modifiedFormatTime"),s.zc(4,"formatTime"),s.lc(),s.od(5,"\n")),2&t){const t=n.element,e=s.yc();s.Ub(2),s.qd("\n        ",null!=e.uiSettings&&e.uiSettings.modifyTimeFormat?s.Bc(3,1,t.total_time,e.allTranslations):s.Ac(4,4,t.total_time),"")}}function f(t,n){if(1&t&&(s.od(0,"\n    "),s.mc(1,"span"),s.od(2),s.zc(3,"formatTime"),s.lc(),s.od(4,"\n")),2&t){const t=n.element;s.Ub(2),s.qd(" ",s.Ac(3,1,t.average_time),"")}}function p(t,n){if(1&t&&(s.od(0,"\n    "),s.hc(1,"color-score",9),s.od(2,"\n")),2&t){const t=n.element,e=s.yc();s.Ub(1),s.Gc("uiSettings",e.uiSettings)("isEmpty",0===t.average_score&&0===t.total_time)("score",t.average_score)}}const h=function(t,n,e,s){return{actions:t,average_score:n,total_time:e,grade:s}},b=function(t,n,e,s,i){return{actions:t,average_score:n,total_time:e,average_time:s,grade:i}};class _{constructor(){this.clickableRow=!1,this.translations={totalTime:"",actions:"",collectionName:"",details:"",score:""},this.data=[],this.enableTimeColumns=!1,this.displayProgress=!1,this.clickedAction=new s.u,this.tableRowClick=new s.u,this.tableRefreshEvent=new s.u,this.tableLoadingEvent=new s.u,this.coloringColumnsWidth=10,this.gradeColumnsWidth=10,this.scoreColumnWidth=15,this.timeColumnsWidth=10,this.collectionNameColumnWidth=25,this.indexColumnWidth=50,this.tableConfig={customColumnsWidth:!0,minWidth:"78.57rem",columns:[],data:[],isLoading:this.tableLoadingEvent,refreshData:this.tableRefreshEvent}}ngOnInit(){this.tableConfig.data=this.data;const t=this.generateGradeColumn(),n=this.generateColoringColumns(),e=this.generateTimeColumns(),s=100-this.collectionNameColumnWidth-this.scoreColumnWidth-n.length*this.coloringColumnsWidth-t.length*this.gradeColumnsWidth-e.length*this.timeColumnsWidth;this.tableConfig.columns=[{label:"#",name:"index",type:i.a.INDEX,width:this.indexColumnWidth+"px"},{label:this.translations.collectionName,name:"title",type:i.a.STRING,width:this.collectionNameColumnWidth+"%"},{label:this.translations.score,name:this.displayProgress?"progress":"score",type:i.a.SCORE,width:this.scoreColumnWidth+"%"},...t,...n,...e,{label:this.translations.actions,name:"actions",width:`calc(${s}% - ${this.indexColumnWidth}px)`,styleConfig:{headerCellClassName:"actions-header-cell"}}]}detailsClicked(t){this.clickedAction.emit({element:t,actionType:a.a.DETAILS})}generateColoringColumns(){var t;return(null===(t=this.uiSettings)||void 0===t?void 0:t.gradeColoringEnabled)?[{label:this.translations.averageScore,name:"average_score",width:this.coloringColumnsWidth+"%"}]:[]}generateGradeColumn(){var t;return(null===(t=this.uiSettings)||void 0===t?void 0:t.gradeInChildCourseDetails)?[{label:this.translations.grade,name:"grade",width:this.gradeColumnsWidth+"%"}]:[]}generateTimeColumns(){var t;return(null===(t=this.uiSettings)||void 0===t?void 0:t.modifyTimeFormat)?this.getTimeColumnsForModifiedTimeFormat():this.getTimeColumns()}getTimeColumnsForModifiedTimeFormat(){return this.enableTimeColumns?[{label:this.allTranslations.labels["connections.my_groups.courses.totalTime"],name:"total_time",width:this.timeColumnsWidth+"%"}]:[]}getTimeColumns(){return this.enableTimeColumns?[{label:this.allTranslations.labels["connections.my_groups.courses.totalTime"],name:"total_time",width:this.timeColumnsWidth+"%"},{label:this.allTranslations.labels["connections.my_groups.courses.averageTime"],name:"average_time",width:this.timeColumnsWidth+"%"}]:[]}onTableRowClick(t){this.tableRowClick.emit({row:t.row,index:t.index})}}_.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=s.ac({type:_,selectors:[["app-courses-display"]],inputs:{clickableRow:"clickableRow",allTranslations:"allTranslations",translations:"translations",data:"data",uiSettings:"uiSettings",enableTimeColumns:"enableTimeColumns",displayProgress:"displayProgress"},outputs:{clickedAction:"clickedAction",tableRowClick:"tableRowClick"},decls:17,vars:15,consts:[[3,"translations","tableConfig","customColumns","clickableRow","rowClick"],["actionsTemplate",""],["gradeTemplate",""],["totalTimeTemplate",""],["averageTimeTemplate",""],["averageScoreTemplate",""],[1,"actions-buttons",2,"display","flex"],["mat-button","",1,"lea-table-action-button",3,"click"],[2,"margin","auto"],[3,"uiSettings","isEmpty","score"]],template:function(t,n){if(1&t&&(s.mc(0,"app-lea-table",0),s.uc("rowClick",(function(t){return n.onTableRowClick(t)})),s.lc(),s.od(1,"\n\n"),s.md(2,u,7,1,"ng-template",null,1,s.nd),s.od(4,"\n\n"),s.md(5,m,4,3,"ng-template",null,2,s.nd),s.od(7,"\n\n"),s.md(8,g,6,6,"ng-template",null,3,s.nd),s.od(10,"\n\n"),s.md(11,f,5,3,"ng-template",null,4,s.nd),s.od(13,"\n\n"),s.md(14,p,3,3,"ng-template",null,5,s.nd),s.od(16,"\n")),2&t){const t=s.Wc(3),e=s.Wc(6),i=s.Wc(9),a=s.Wc(12),o=s.Wc(15);s.Gc("translations",n.allTranslations)("tableConfig",n.tableConfig)("customColumns",null!=n.uiSettings&&n.uiSettings.modifyTimeFormat?s.Pc(4,h,t,o,i,e):s.Qc(9,b,t,o,i,a,e))("clickableRow",n.clickableRow)}},directives:[o.a,r.b,c.a],pipes:[l,d.a],encapsulation:2})},wVl7:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var s=e("soBk"),i=e("fXoL");class a{constructor(t){this._restClient=t}getWidgetsList(){return this._restClient.get("/widgets/list")}getWidgetUsages(t){const n=`/widgets/widget/${t}/usages`;return this._restClient.get(n)}deleteWidget(t){const n=`/widgets/widget/${t}/delete`;return this._restClient.delete(n)}}a.\u0275fac=function(t){return new(t||a)(i.qc(s.A))},a.\u0275prov=i.cc({token:a,factory:a.\u0275fac})},zFGM:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var s=e("75ub"),i=e("To28"),a=e("lJxs"),o=e("fXoL");class r{constructor(t){this._restClient=t}getManualGrading(t,n){const e=this.getAPIURL(t,n);return this._restClient.get(e).pipe(Object(a.a)(t=>i.a.fromAPI(t)))}getManualGradingForAssessments(t){const n=this.getAPIURL();return this._restClient.post(n,t).pipe(Object(a.a)(t=>t.map(t=>i.a.fromAPI(t))))}postNewManualGrading(t,n,e,s,i){const a=this.getAPIURL(t,n,i),o=e.serializeForAPI();return o.max_points=s,this._restClient.post(a,o)}patchExistingManualGrading(t,n,e,s){const i=this.getAPIURL(t,n,s);return this._restClient.post(i,e.serializeForAPI())}removeManualGradingTotal(t,n,e){const s=this.getAPIURL(t,n,e);return this._restClient.patch(s,{total_points:!0,index:[]})}getAPIURL(t,n,e){if(!t&&!n&&!e)return"/api/v2/assessment/manual_grading";return`/api/v2/assessment/manual_grading/assessment/${t}/user/${n}`+(void 0===e||0===e?"":"?repetition_assessment_id="+e)}}r.\u0275fac=function(t){return new(t||r)(o.qc(s.a))},r.\u0275prov=o.cc({token:r,factory:r.\u0275fac})}}]);