(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{IU59:function(n,t,c){"use strict";c.d(t,"a",(function(){return b}));var i=c("ofXK"),e=c("bHR5"),o=c("4Tnb"),s=c("5e9n"),l=c("IAFm"),d=c("g4uV"),r=c("qfWi"),a=c("HkNm"),u=c("VCwu"),m=c("fXoL");class b{}b.\u0275mod=m.ec({type:b}),b.\u0275inj=m.dc({factory:function(n){return new(n||b)},providers:[e.a,o.a,s.a,l.a,a.a,u.a,d.a,r.b],imports:[[i.c]]})},U8kq:function(n,t,c){"use strict";c.d(t,"a",(function(){return s}));var i=c("ofXK"),e=c("8LM8"),o=c("fXoL");class s{}s.\u0275mod=o.ec({type:s}),s.\u0275inj=o.dc({factory:function(n){return new(n||s)},imports:[[i.c,e.a]]})},eWTq:function(n,t,c){"use strict";c.r(t),c.d(t,"PublisherModule",(function(){return _c}));var i=c("3Pt+"),e=c("tyNb"),o=c("tk/3"),s=c("ofXK"),l=c("8LM8"),d=c("U8kq"),r=c("fXoL");class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275cmp=r.ac({type:a,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,t){1&n&&r.hc(0,"router-outlet")},directives:[e.m],encapsulation:2});var u=c("cp0P"),m=c("DAcC"),b=c("XM48"),p=c("H18b"),h=c("LRne"),f=c("lJxs"),g=c("aJOX");class _{constructor(n){this._restClient=n}mapSections(n){return n.publishersection_set.map(n=>new b.c(n.id,n.title,n.course_set.map(n=>new b.a(n.id,n.title,n.url,n.icon_url,n.ecommerce_type,n.user_has_access,n.in_progress,n.description,n.license_set.map(n=>new b.b(n.id,n.name,n.price,n.currency,n.duration_time_in_days,n.is_trial_on))))))}getPublisherSections(n){if(window.api_response){let n=window.api_response;return window.api_response=void 0,Object(h.a)(this.mapSections(n))}return this._restClient.getPublic("/library/publisher/"+n+"/").pipe(Object(f.a)(this.mapSections))}}_.\u0275fac=function(n){return new(n||_)(r.qc(g.c))},_.\u0275prov=r.cc({token:_,factory:_.\u0275fac});var U=c("soBk"),v=c("TmkG"),y=c("UTBW"),I=c("EuYo"),L=c("XXAD"),k=c("9bni"),G=c("k4w8"),w=c("Qu3c"),x=c("ppjm"),C=c("STbY"),z=c("gInW"),j=c("ykho"),S=c("qf2W"),T=c("o5Ny");function M(n,t){if(1&n&&r.hc(0,"img",14),2&n){const n=r.yc(2);r.Gc("src",n.publisher.profile.contactIconUrl,r.dd)}}function B(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1,"\n                "),r.md(2,M,1,1,"img",12),r.od(3,"\n\n                "),r.mc(4,"span",13),r.od(5),r.lc(),r.od(6,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher.profile.contactIconUrl),r.Ub(3),r.qd("\n                    ",n.publisher.name,"\n                ")}}function q(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc();r.Ub(1),r.qd("\n                ",r.Bc(2,1,n.translations,"courses.grid.Resources"),"\n            ")}}function A(n,t){if(1&n&&(r.mc(0,"a",18),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_library"),"\n                ")}}function F(n,t){if(1&n&&(r.mc(0,"a",19),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/contact"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_contact_us"),"\n                ")}}function P(n,t){if(1&n&&(r.mc(0,"a",19),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/about"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_about_us"),"\n                ")}}function O(n,t){if(1&n&&(r.mc(0,"div",15),r.od(1,"\n                "),r.md(2,A,3,5,"a",16),r.od(3,"\n\n                "),r.md(4,F,3,5,"a",17),r.od(5,"\n\n                "),r.md(6,P,3,5,"a",17),r.od(7,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher)}}function D(n,t){if(1&n){const n=r.nc();r.mc(0,"div",20),r.od(1,"\n            "),r.mc(2,"library-main-filters",21),r.uc("moreCoursesAvailable",(function(t){r.ad(n);return r.yc().onMoreCoursesAvailable(t)}))("foundCourses",(function(t){r.ad(n);return r.yc().setCourses(t)}))("searchFormDataReady",(function(){r.ad(n);return r.yc().readyForSearch()}))("noFilters",(function(t){r.ad(n);return r.yc().onNoFilters(t)})),r.lc(),r.od(3,"\n        "),r.lc()}if(2&n){const n=r.yc();r.Ub(2),r.Gc("translations",n.translations)("publishers",n.publishers)("sections",n.sections)("singlePublisher",!0)}}function N(n,t){1&n&&(r.mc(0,"div",22),r.od(1,"\n                "),r.hc(2,"div",23),r.od(3,"\n            "),r.lc())}function E(n,t){if(1&n&&(r.mc(0,"div",28),r.od(1,"\n                    "),r.mc(2,"h2"),r.od(3),r.lc(),r.od(4,"\n                    "),r.hc(5,"div",29),r.od(6,"\n                "),r.lc()),2&n){const n=r.yc().$implicit;r.Ub(3),r.pd(n.title)}}function V(n,t){if(1&n&&(r.mc(0,"mcourser-ui-card-link",46),r.od(1,"\n                                    "),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Gc("courseTitle",n.title)("tabIndex",t.utilsService.isCollectionEnabled(n)?void 0:"-1")("courseLink",t.courseLinkUrl(n,t.publisher))}}function $(n,t){if(1&n&&(r.mc(0,"mcourser-ui-card-link",46),r.od(1,"\n                                    "),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Gc("courseTitle",n.title)("tabIndex",t.utilsService.isCollectionEnabled(n)?void 0:"-1")("courseLink","/courses/"+n.id+t.nextUrl)}}function R(n,t){if(1&n&&(r.mc(0,"a",47),r.od(1,"\n                                "),r.hc(2,"img",48),r.od(3,"\n                            "),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Gc("routerLink",t.courseLinkUrl(n,t.publisher))("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(2),r.Gc("src",n.iconUrl?n.iconUrl:"/media/img/default_course_icon.svg",r.dd)}}function H(n,t){if(1&n&&(r.mc(0,"a",47),r.od(1,"\n                                "),r.hc(2,"img",48),r.od(3,"\n                            "),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Gc("routerLink","/courses/"+n.id+t.nextUrl)("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(2),r.Gc("src",n.iconUrl?n.iconUrl:"/media/img/default_course_icon.svg",r.dd)}}function W(n,t){if(1&n&&(r.mc(0,"button",49),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Ic("id","course-card-free_",n.id,""),r.Ub(1),r.qd("\n                                ",r.Bc(2,2,t.translations,"lorepo.publishers.library.free"),"\n                            ")}}function X(n,t){if(1&n){const n=r.nc();r.mc(0,"ul",50),r.od(1,"\n                                "),r.mc(2,"a",51),r.uc("click",(function(){r.ad(n);return r.yc(3).clearUserCoursesCache()})),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                            "),r.lc()}if(2&n){const n=r.yc().$implicit,t=r.yc(2);r.Vb("for","course-card-free_"+n.id),r.Ub(2),r.Ic("href","/ecommerce/add_free_course?course_id=",n.id,"",r.dd),r.Ub(1),r.qd("\n                                    ",r.Bc(4,3,t.translations,"ecommerce.common.free_description.add"),"\n                                ")}}function K(n,t){if(1&n&&(r.mc(0,"a",52),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(2);r.Gc("routerLink","/courses/"+n.id+t.nextUrl)("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                ",r.Bc(2,3,t.translations,"lorepo.publishers.library.free"),"\n                            ")}}function Q(n,t){if(1&n&&(r.kc(0),r.od(1),r.zc(2,"getLabel"),r.jc()),2&n){const n=r.yc(4);r.Ub(1),r.qd("\n                                    ",r.Bc(2,1,n.translations,"publishers.public.trial.license.button.add"),"\n                                ")}}function Y(n,t){if(1&n&&(r.kc(0),r.od(1),r.zc(2,"first"),r.zc(3,"first"),r.jc()),2&n){const n=r.yc(2).$implicit;r.Ub(1),r.rd("\n                                    ",r.Bc(2,2,n.licenses,"price"),"\n                                    ",r.Bc(3,5,n.licenses,"currency"),"\n                                ")}}function J(n,t){if(1&n&&(r.mc(0,"a",53),r.od(1,"\n                                "),r.md(2,Q,3,4,"ng-container",3),r.od(3,"\n                                "),r.md(4,Y,4,8,"ng-container",3),r.od(5,"\n                            "),r.lc()),2&n){const n=r.yc().$implicit;r.Gc("id",n.id),r.Ub(2),r.Gc("ngIf",n.haveAnyTrialLicense),r.Ub(2),r.Gc("ngIf",!n.haveAnyTrialLicense)}}function Z(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                        "),r.mc(2,"a",57),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                    "),r.jc()),2&n){const n=r.yc().$implicit,t=r.yc(2).$implicit,c=r.yc(2);r.Ub(2),r.Gc("href","/ecommerce/add_trial_course/"+t.id+"/"+n.id,r.dd),r.Ub(1),r.qd("\n                                            ",r.Bc(4,2,c.translations,"publishers.public.trial.license.dropdown.add"),"\n                                        ")}}function nn(n,t){if(1&n&&(r.od(0,"\n                                        "),r.mc(1,"a",57),r.od(2),r.zc(3,"getLabel"),r.lc(),r.od(4,"\n                                    ")),2&n){const n=r.yc().$implicit,t=r.yc(2).$implicit,c=r.yc(2);r.Ub(1),r.Gc("href","/payments/confirmation/"+t.id+"/"+n.id,r.dd),r.Ub(1),r.ud("\n                                            ",n.name,":\n                                            ",n.price,"\n                                            ",n.currency," (",n.durationTimeInDays,"\n                                            ",r.Bc(3,6,c.translations,"payments.confirmation.days"),"\n                                            )\n                                        ")}}function tn(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                    "),r.md(2,Z,6,5,"ng-container",55),r.od(3,"\n                                    "),r.md(4,nn,5,9,"ng-template",null,56,r.nd),r.od(6,"\n                                "),r.jc()),2&n){const n=t.$implicit,c=r.Wc(5);r.Ub(2),r.Gc("ngIf",n.is_trial_on)("ngIfElse",c)}}function cn(n,t){if(1&n&&(r.mc(0,"ul",50),r.od(1,"\n                                "),r.md(2,tn,7,2,"ng-container",54),r.od(3,"\n                            "),r.lc()),2&n){const n=r.yc().$implicit;r.Vb("for",n.id),r.Ub(2),r.Gc("ngForOf",n.licenses)}}function en(n,t){if(1&n&&(r.mc(0,"a",64),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2).$implicit,t=r.yc(2);r.Gc("routerLink","/ecommerce/unlock_course/"+n.id)("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                    ",r.Bc(2,3,t.translations,"lorepo.publishers.library.unlock"),"\n                                ")}}function on(n,t){if(1&n){const n=r.nc();r.mc(0,"a",65),r.uc("click",(function(){r.ad(n);return r.yc(4).redirectToExternalShopLink()})),r.od(1),r.zc(2,"getLabel"),r.lc()}if(2&n){const n=r.yc(2).$implicit,t=r.yc(2);r.Gc("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                    ",r.Bc(2,2,t.translations,"lorepo.publishers.library.buy"),"\n                                ")}}function sn(n,t){if(1&n&&(r.mc(0,"a",66),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){r.yc();const n=r.Wc(9),t=r.yc(3);r.Gc("matMenuTriggerFor",n),r.Ub(1),r.qd("\n                                    ",r.Bc(2,2,t.translations,"publishers.public.trial.license.button.unlock.add"),"\n                                ")}}function ln(n,t){if(1&n&&(r.mc(0,"a",70),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(3).$implicit,c=r.yc(2);r.Gc("href","/payments/confirmation/"+t.id+"/"+n.id,r.dd),r.Ub(1),r.ud("\n                                                ",n.name,":\n                                                ",n.price,"\n                                                ",n.currency," (",n.durationTimeInDays,"\n                                                ",r.Bc(2,6,c.translations,"payments.confirmation.days"),"\n                                                )\n                                            ")}}function dn(n,t){if(1&n&&(r.mc(0,"a",70),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc().$implicit,t=r.yc(3).$implicit,c=r.yc(2);r.Gc("href","/ecommerce/add_trial_course/"+t.id+"/"+n.id,r.dd),r.Ub(1),r.qd("\n                                                ",r.Bc(2,2,c.translations,"publishers.public.trial.license.dropdown.unlock.add"),"\n                                            ")}}function rn(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                            "),r.md(2,ln,3,9,"a",69),r.od(3,"\n                                            "),r.md(4,dn,3,5,"a",69),r.od(5,"\n                                        "),r.jc()),2&n){const n=t.$implicit;r.Ub(2),r.Gc("ngIf",!n.is_trial_on),r.Ub(2),r.Gc("ngIf",n.is_trial_on)}}function an(n,t){if(1&n&&(r.od(0,"\n                                        "),r.mc(1,"a",67),r.od(2),r.zc(3,"getLabel"),r.lc(),r.od(4,"\n                                        "),r.mc(5,"a",68),r.od(6),r.zc(7,"getLabel"),r.lc(),r.od(8,"\n                                        "),r.md(9,rn,6,2,"ng-container",54),r.od(10,"\n                                    ")),2&n){const n=r.yc(2).$implicit,t=r.yc(2);r.Ub(1),r.Gc("routerLink","/ecommerce/unlock_course/"+n.id),r.Ub(1),r.qd("\n                                            ",r.Bc(3,5,t.translations,"lorepo.publishers.library.unlock"),"\n                                        "),r.Ub(3),r.Gc("routerLink","/ecommerce/unlock_course/"+n.id),r.Ub(1),r.qd("\n                                            ",r.Bc(7,8,t.translations,"ecommerce.Unlock_course_with_access_code"),"\n                                        "),r.Ub(3),r.Gc("ngForOf",n.licenses)}}function un(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                "),r.md(2,en,3,6,"a",58),r.od(3,"\n                                "),r.md(4,on,3,5,"a",59),r.od(5,"\n                                "),r.md(6,sn,3,5,"a",60),r.od(7,"\n\n                                "),r.mc(8,"mat-menu",61,62),r.od(10,"\n                                    "),r.md(11,an,11,11,"ng-template",63),r.od(12,"\n                                "),r.lc(),r.od(13,"\n                            "),r.jc()),2&n){const n=r.yc().$implicit;r.Ub(2),r.Gc("ngIf","UNLOCK"===n.ecommerceType&&!n.haveAnyTrialLicense),r.Ub(2),r.Gc("ngIf","BUY"===n.ecommerceType&&!n.haveAnyTrialLicense),r.Ub(2),r.Gc("ngIf",n.haveAnyTrialLicense)}}function mn(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                    "),r.mc(2,"a",72),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                "),r.jc()),2&n){const n=r.yc(2).$implicit,t=r.yc(2);r.Ub(2),r.Gc("routerLink","/courses/"+n.id+t.nextUrl)("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                        ",r.Bc(4,3,t.translations,"lorepo.publishers.library.valid.empty"),"\n                                    ")}}function bn(n,t){if(1&n&&(r.od(0,"\n                                    "),r.mc(1,"a",72),r.od(2),r.zc(3,"getLabel"),r.lc(),r.od(4,"\n                                ")),2&n){const n=r.yc(2).$implicit,t=r.yc(2);r.Ub(1),r.Gc("routerLink","/courses/"+n.id+t.nextUrl)("tabindex",t.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.rd("\n                                        ",r.Bc(3,4,t.translations,"lorepo.publishers.library.valid"),"\n                                        : ",t.hasAccess(n).validTo,"\n                                    ")}}function pn(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                "),r.md(2,mn,6,6,"ng-container",55),r.od(3,"\n                                "),r.md(4,bn,5,7,"ng-template",null,71,r.nd),r.od(6,"\n                            "),r.jc()),2&n){const n=r.Wc(5),t=r.yc().$implicit,c=r.yc(2);r.Ub(2),r.Gc("ngIf",c.hasAccess(t).isValidToEmpty)("ngIfElse",n)}}const hn=function(n){return{disabled:n}};function fn(n,t){if(1&n){const n=r.nc();r.mc(0,"div",30,31),r.uc("click",(function(){r.ad(n);return r.Wc(1).toggle()})),r.zc(2,"getLabel"),r.od(3,"\n                    "),r.mc(4,"div",7),r.od(5,"\n                        "),r.mc(6,"div",32),r.od(7,"\n                            "),r.mc(8,"div",33),r.od(9,"\n                                "),r.mc(10,"h2",34),r.od(11,"\n                                    "),r.md(12,V,2,3,"mcourser-ui-card-link",35),r.od(13,"\n                                    "),r.md(14,$,2,3,"mcourser-ui-card-link",35),r.od(15,"\n                                "),r.lc(),r.od(16,"\n                                "),r.mc(17,"h2",36),r.od(18,"\n                                    "),r.mc(19,"a",37),r.od(20),r.zc(21,"truncateWords"),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                            "),r.lc(),r.od(24,"\n                            "),r.md(25,R,4,3,"a",38),r.od(26,"\n                            "),r.md(27,H,4,3,"a",38),r.od(28,"\n                        "),r.lc(),r.od(29,"\n                        "),r.mc(30,"div",39),r.od(31),r.zc(32,"truncateWords"),r.zc(33,"stripTags"),r.lc(),r.od(34,"\n\n                        "),r.mc(35,"div",40),r.od(36,"\n                            "),r.od(37,"\n                            "),r.md(38,W,3,5,"button",41),r.od(39,"\n\n                            "),r.md(40,X,6,6,"ul",42),r.od(41,"\n\n                            "),r.od(42,"\n                            "),r.md(43,K,3,6,"a",43),r.od(44,"\n\n                            "),r.od(45,"\n                            "),r.md(46,J,6,3,"a",44),r.od(47,"\n\n                            "),r.md(48,cn,4,2,"ul",42),r.od(49,"\n\n                            "),r.od(50,"\n                            "),r.md(51,un,14,3,"ng-container",3),r.od(52,"\n\n                            "),r.md(53,pn,7,2,"ng-container",3),r.od(54,"\n\n                            "),r.mc(55,"a",45),r.od(56),r.zc(57,"getLabel"),r.lc(),r.od(58,"\n                        "),r.lc(),r.od(59,"\n                    "),r.lc(),r.od(60,"\n                "),r.lc()}if(2&n){const n=t.$implicit,c=t.last,i=r.yc(2);r.Hc("matTooltip",i.utilsService.isCollectionEnabled(n)?null:r.Bc(2,21,i.translations,i.utilsService.collectionDisabledReason(n))),r.Gc("mdlup",c),r.Ub(4),r.Gc("ngClass",r.Mc(35,hn,!i.utilsService.isCollectionEnabled(n))),r.Ub(8),r.Gc("ngIf",!i.hasAccess(n)),r.Ub(2),r.Gc("ngIf",i.hasAccess(n)),r.Ub(5),r.Gc("routerLink","/"+i.publisher.url)("tabindex",i.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                        ",r.Bc(21,24,i.publisher.shortName,24),"\n                                    "),r.Ub(5),r.Gc("ngIf",!i.hasAccess(n)),r.Ub(2),r.Gc("ngIf",i.hasAccess(n)),r.Ub(4),r.qd("\n                            ",r.Bc(32,27,r.Ac(33,30,n.description),110),"\n                        "),r.Ub(7),r.Gc("ngIf","FREE"==n.ecommerceType&&!i.hasAccess(n)),r.Ub(2),r.Gc("ngIf","FREE"==n.ecommerceType&&!i.hasAccess(n)),r.Ub(3),r.Gc("ngIf","FREE"==n.ecommerceType&&i.hasAccess(n)),r.Ub(3),r.Gc("ngIf","PAID"==n.ecommerceType&&!i.hasAccess(n)),r.Ub(2),r.Gc("ngIf","PAID"==n.ecommerceType&&!i.hasAccess(n)),r.Ub(3),r.Gc("ngIf",("UNLOCK"===n.ecommerceType||"BUY"===n.ecommerceType)&&!i.hasAccess(n)),r.Ub(2),r.Gc("ngIf",i.hasAccess(n)&&!n.isFree),r.Ub(2),r.Gc("routerLink","/"+i.publisher.url+"/"+n.url+"/toc")("tabindex",i.utilsService.isCollectionEnabled(n)?void 0:"-1"),r.Ub(1),r.qd("\n                                ",r.Bc(57,32,i.translations,"lorepo.publishers.library.resources"),"\n                            ")}}function gn(n,t){if(1&n&&(r.mc(0,"section",24),r.od(1,"\n                "),r.md(2,E,7,1,"div",25),r.od(3,"\n                "),r.md(4,fn,61,37,"div",26),r.od(5,"\n                "),r.hc(6,"div",27),r.od(7,"\n            "),r.lc()),2&n){const n=t.$implicit;r.Ub(2),r.Gc("ngIf",n.title),r.Ub(2),r.Gc("ngForOf",n.courses)}}function _n(n,t){1&n&&(r.mc(0,"section",73),r.od(1,"\n                "),r.mc(2,"div",22),r.od(3,"\n                    "),r.hc(4,"div",74),r.od(5,"\n                "),r.lc(),r.od(6,"\n            "),r.lc())}function Un(n,t){if(1&n){const n=r.nc();r.mc(0,"section",75),r.od(1,"\n                "),r.mc(2,"button",76),r.uc("click",(function(){r.ad(n);return r.yc().onShowMoreClicked()})),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n            "),r.lc()}if(2&n){const n=r.yc();r.Ub(3),r.qd("\n                    ",r.Bc(4,1,n.translations,"structure.search.Show_more"),"\n                ")}}const vn=function(n){return{"has-filter-panel":n}},yn=function(n){return{"column-right":n}};class In{constructor(n,t,c,i,e,o,s,l,d,r){this._publishers=n,this._section=t,this._route=c,this._translations=i,this._settings=e,this._userCourses=o,this._paths=s,this._uiSettings=l,this.utilsService=d,this._document=r,this.isSingleMode=!1,this.isInitialized=!1,this.nextUrl="",this.showSearch=!0,this.moreCoursesAvailable=!1,this.isMoreLoading=!1,this.uiSettings=new y.a,this.isLibraryFiltersInitialized=!1,this.isFiltersReady=!1}ngOnInit(){const n=this._route.snapshot.params.publisherUrl||null;Object(u.a)([this._publishers.getPublisherByUrl(n),this._settings.get()]).subscribe(([n,t])=>{this.isSingleMode=t.singlePublisher,this.showSearch=t.collectionFilterActive,this.publisher=n,this.publishers=[this.publisher],this.showSearch&&(window.api_response=void 0),n?this.fetchPublisherSections():window.location.href="/schools/my_school/"}),this._translations.getTranslations().subscribe(n=>{this.translations=n}),this.nextUrl="/next/"+this._paths.encodeNextUrlFromCurrentPath(),this._uiSettings.get().subscribe(n=>this.uiSettings=n)}ngAfterViewInit(){this.showSearch&&(this.filtersQueryList.length>0?(this.filters=this.filtersQueryList.first,this.isFiltersReady=!0,this.AllInitialized()):this.filtersQueryList.changes.subscribe(n=>{this.filters=n.first,this.isFiltersReady=!0,this.AllInitialized()}))}fetchPublisherSections(){this.publisher&&this._section&&this._section.getPublisherSections(this.publisher.id).subscribe(n=>{this.sections=n.filter(n=>n.courses.length>0),this.isInitialized=!0})}readyForSearch(){this.showSearch&&(this.isLibraryFiltersInitialized=!0,this.AllInitialized())}AllInitialized(){this.isFiltersReady&&this.isLibraryFiltersInitialized&&(this.filters.setupPublisherSections(this.publisher),this.isInitialized=!0)}onNoFilters(n){this.fetchPublisherSections()}hasAccess(n){return this._userCourses.hasAccess(n.id)}onMoreCoursesAvailable(n){this.isMoreLoading=!1,this.moreCoursesAvailable=n}onShowMoreClicked(){this.isMoreLoading=!0,this.filters.onShowMoreClicked()}setCourses(n){this.sections=[new b.c(null,null,n)]}courseLinkUrl(n,t){return this.uiSettings.redirectCollectionToToC?"/"+t.url+"/"+n.url+"/toc":"/"+t.url+"/"+n.url}clearUserCoursesCache(){this._userCourses.clearCache()}get externalShopLinkOpenInANewTab(){return this.uiSettings.getProperty(y.b.EXTERNAL_SHOP_LINK_OPEN_IN_A_NEW_TAB)}redirectToExternalShopLink(){this.clearUserCoursesCache(),this.externalShopLinkOpenInANewTab?window.open(this.publisher.profile.shopLink,"_blank"):this._document.location.href=this.publisher.profile.shopLink}}function Ln(n,t){if(1&n&&r.hc(0,"img",10),2&n){const n=r.yc(2);r.Gc("src",n.publisher.profile.contactIconUrl,r.dd)}}function kn(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1,"\n                "),r.md(2,Ln,1,1,"img",8),r.od(3,"\n\n                "),r.mc(4,"span",9),r.od(5),r.lc(),r.od(6,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher.profile.contactIconUrl),r.Ub(3),r.qd("\n                    ",n.publisher.name,"\n                ")}}function Gn(n,t){if(1&n&&(r.mc(0,"a",14),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_library"),"\n                ")}}function wn(n,t){if(1&n&&(r.mc(0,"a",14),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/contact"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_contact_us"),"\n                ")}}function xn(n,t){if(1&n&&(r.mc(0,"a",15),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/about"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_about_us"),"\n                ")}}function Cn(n,t){if(1&n&&(r.mc(0,"div",11),r.od(1,"\n                "),r.md(2,Gn,3,5,"a",12),r.od(3,"\n\n                "),r.md(4,wn,3,5,"a",12),r.od(5,"\n\n                "),r.md(6,xn,3,5,"a",13),r.od(7,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher)}}function zn(n,t){1&n&&(r.mc(0,"div",16),r.od(1,"\n            "),r.hc(2,"div",17),r.od(3,"\n        "),r.lc())}function jn(n,t){if(1&n&&(r.mc(0,"div",22),r.od(1,"\n                    "),r.hc(2,"img",23),r.od(3,"\n                "),r.lc()),2&n){const n=r.yc(2);r.Ub(2),r.Gc("src",n.publisher.profile.contactIconUrl,r.dd)}}function Sn(n,t){if(1&n&&(r.mc(0,"div",18),r.od(1,"\n            "),r.mc(2,"div",19),r.od(3,"\n                "),r.md(4,jn,4,1,"div",20),r.od(5,"\n\n                "),r.hc(6,"div",21),r.od(7,"\n            "),r.lc(),r.od(8,"\n        "),r.lc()),2&n){const n=r.yc();r.Ub(4),r.Gc("ngIf",n.publisher.profile.contactIconUrl),r.Ub(2),r.Gc("innerHTML",n.publisher.profile.description,r.bd)}}In.\u0275fac=function(n){return new(n||In)(r.gc(p.a),r.gc(_),r.gc(e.a),r.gc(U.F),r.gc(U.D),r.gc(U.I),r.gc(U.w),r.gc(v.a),r.gc(U.K),r.gc(s.e))},In.\u0275cmp=r.ac({type:In,selectors:[["ng-component"]],viewQuery:function(n,t){var c;(1&n&&r.vd(m.u,!0),2&n)&&(r.Vc(c=r.vc())&&(t.filtersQueryList=c))},features:[r.Tb([p.a,_])],decls:31,vars:14,consts:[["id","library",1,"publisher-library"],[1,"page-title-bar","flex-row"],[1,"page-title-bar__header"],[4,"ngIf"],["class","navigation",4,"ngIf"],["putFooterBottom","",1,"page-content",3,"ngClass"],["class","column-left",4,"ngIf"],[3,"ngClass"],["mdl","","class","app-loading-wrapper",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],["class","section more-loading-spinner",4,"ngIf"],["class","section show-more-button",4,"ngIf"],["class","header-logo",3,"src",4,"ngIf"],[1,"header-publisher-text"],[1,"header-logo",3,"src"],[1,"navigation"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect active-mdl-button",3,"routerLink",4,"ngIf"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect",3,"routerLink",4,"ngIf"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect","active-mdl-button",3,"routerLink"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect",3,"routerLink"],[1,"column-left"],[3,"translations","publishers","sections","singlePublisher","moreCoursesAvailable","foundCourses","searchFormDataReady","noFilters"],["mdl","",1,"app-loading-wrapper"],[1,"data-loading","mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],[1,"section"],["class","section-title flex-row",4,"ngIf"],["class","course-card mdl-card mdl-shadow--2dp","matTooltipPosition","above",3,"mdlup","matTooltip","click",4,"ngFor","ngForOf"],[1,"clear-both"],[1,"section-title","flex-row"],[1,"mdl-layout-spacer","stepper-line"],["matTooltipPosition","above",1,"course-card","mdl-card","mdl-shadow--2dp",3,"mdlup","matTooltip","click"],["tooltip","matTooltip"],[1,"mdl-card__title"],[1,"course-card__title-wrapper"],[1,"mdl-card__title-text"],[3,"courseTitle","tabIndex","courseLink",4,"ngIf"],[1,"mdl-card__subtitle-text"],[1,"publisher-link",3,"routerLink","tabindex"],[3,"routerLink","tabindex",4,"ngIf"],[1,"mdl-card__supporting-text","card-text"],[1,"mdl-card__actions","mdl-card--border"],["class","mdl-button mdl-js-button free-button",3,"id",4,"ngIf"],["class","mdl-menu mdl-menu--top-left mdl-js-menu mdl-js-ripple-effect",4,"ngIf"],["class","mdl-button mdl-button--colored mdl-js-button free-button",3,"routerLink","tabindex",4,"ngIf"],["class","mdl-button mdl-js-button paid-button",3,"id",4,"ngIf"],[1,"mdl-button","mdl-js-button","resources-button",3,"routerLink","tabindex"],[3,"courseTitle","tabIndex","courseLink"],[3,"routerLink","tabindex"],[1,"course-card__icon",3,"src"],[1,"mdl-button","mdl-js-button","free-button",3,"id"],[1,"mdl-menu","mdl-menu--top-left","mdl-js-menu","mdl-js-ripple-effect"],[1,"mdl-menu__item",3,"href","click"],[1,"mdl-button","mdl-button--colored","mdl-js-button","free-button",3,"routerLink","tabindex"],[1,"mdl-button","mdl-js-button","paid-button",3,"id"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["paidPaymentView",""],[1,"mdl-menu__item",3,"href"],["class","mdl-button mdl-button--colored mdl-js-button unlock-button",3,"routerLink","tabindex",4,"ngIf"],["class","mdl-button mdl-button--colored mdl-js-button unlock-button",3,"tabindex","click",4,"ngIf"],["class","mdl-button mdl-js-button paid-button",3,"matMenuTriggerFor",4,"ngIf"],[1,"buy-course-menu"],["buyCourseMenu","matMenu"],["matMenuContent",""],[1,"mdl-button","mdl-button--colored","mdl-js-button","unlock-button",3,"routerLink","tabindex"],[1,"mdl-button","mdl-button--colored","mdl-js-button","unlock-button",3,"tabindex","click"],[1,"mdl-button","mdl-js-button","paid-button",3,"matMenuTriggerFor"],[1,"mdl-button","mdl-button--colored","mdl-js-button","unlock-button",3,"routerLink"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"href",4,"ngIf"],["mat-menu-item","",3,"href"],["publisherLibraryNotEmpty",""],[1,"mdl-button","mdl-js-button","valid-till-button",3,"routerLink","tabindex"],[1,"section","more-loading-spinner"],[1,"mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],[1,"section","show-more-button"],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent",3,"click"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.md(6,B,7,2,"h1",3),r.od(7,"\n            "),r.md(8,q,3,4,"h1",3),r.od(9,"\n\n            "),r.md(10,O,8,3,"div",4),r.od(11,"\n        "),r.lc(),r.od(12,"\n    "),r.lc(),r.od(13,"\n\n    "),r.mc(14,"div",5),r.od(15,"\n        "),r.md(16,D,4,4,"div",6),r.od(17,"\n\n        "),r.mc(18,"div",7),r.od(19,"\n            "),r.md(20,N,4,0,"div",8),r.od(21,"\n\n            "),r.md(22,gn,8,2,"section",9),r.od(23,"\n\n            "),r.md(24,_n,7,0,"section",10),r.od(25,"\n\n            "),r.md(26,Un,6,4,"section",11),r.od(27,"\n        "),r.lc(),r.od(28,"\n    "),r.lc(),r.od(29,"\n"),r.lc(),r.od(30,"\n")),2&n&&(r.Ub(6),r.Gc("ngIf",t.publisher&&!t.isSingleMode),r.Ub(2),r.Gc("ngIf",t.publisher&&t.isSingleMode),r.Ub(2),r.Gc("ngIf",!t.isSingleMode),r.Ub(4),r.Gc("ngClass",r.Mc(10,vn,t.showSearch)),r.Ub(2),r.Gc("ngIf",t.publishers&&t.showSearch),r.Ub(2),r.Gc("ngClass",r.Mc(12,yn,t.showSearch)),r.Ub(2),r.Gc("ngIf",!t.isInitialized),r.Ub(2),r.Gc("ngForOf",t.sections),r.Ub(2),r.Gc("ngIf",t.isMoreLoading),r.Ub(2),r.Gc("ngIf",t.moreCoursesAvailable))},directives:[s.t,I.a,s.q,s.s,e.k,L.a,k.a,G.a,w.a,x.a,C.e,C.a,C.d,C.b],pipes:[z.l,j.a,S.a,T.a],encapsulation:2});class Tn{constructor(n,t,c,i){this._publishers=n,this._route=t,this._settings=c,this._translations=i,this.isInitialized=!1,this.isSingleMode=!1}ngOnInit(){let n=this._route.snapshot.params.publisherUrl||null;this._publishers.getPublisherByUrl(n).subscribe(n=>{this.publisher=n,this.isInitialized=!0}),this._translations.getTranslations().subscribe(n=>{this.translations=n}),this._settings.get().subscribe(n=>{this.isSingleMode=!!n.singlePublisher})}}Tn.\u0275fac=function(n){return new(n||Tn)(r.gc(p.a),r.gc(e.a),r.gc(U.D),r.gc(U.F))},Tn.\u0275cmp=r.ac({type:Tn,selectors:[["ng-component"]],features:[r.Tb([p.a])],decls:20,vars:4,consts:[["id","library",1,"publisher-library"],[1,"page-title-bar","flex-row"],[1,"page-title-bar__header"],[4,"ngIf"],["class","navigation",4,"ngIf"],["putFooterBottom","",1,"page-content","publishers-data-page"],["class","app-loading-wrapper",4,"ngIf"],["class","description",4,"ngIf"],["class","header-logo",3,"src",4,"ngIf"],[1,"header-publisher-text"],[1,"header-logo",3,"src"],[1,"navigation"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect",3,"routerLink",4,"ngIf"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect active-mdl-button",3,"routerLink",4,"ngIf"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect",3,"routerLink"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect","active-mdl-button",3,"routerLink"],[1,"app-loading-wrapper"],[1,"data-loading","mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],[1,"description"],[1,"mdl-card"],["class","mdl-card__title",4,"ngIf"],[1,"mdl-card__supporting-text",3,"innerHTML"],[1,"mdl-card__title"],[1,"logo",3,"src"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.md(6,kn,7,2,"h1",3),r.od(7,"\n\n            "),r.md(8,Cn,8,3,"div",4),r.od(9,"\n        "),r.lc(),r.od(10,"\n    "),r.lc(),r.od(11,"\n\n    "),r.mc(12,"div",5),r.od(13,"\n        "),r.md(14,zn,4,0,"div",6),r.od(15,"\n\n        "),r.md(16,Sn,9,2,"div",7),r.od(17,"\n    "),r.lc(),r.od(18,"\n"),r.lc(),r.od(19,"\n")),2&n&&(r.Ub(6),r.Gc("ngIf",t.publisher),r.Ub(2),r.Gc("ngIf",!t.isSingleMode),r.Ub(6),r.Gc("ngIf",!t.isInitialized),r.Ub(2),r.Gc("ngIf",t.isInitialized))},directives:[s.t,I.a,e.k],pipes:[z.l],encapsulation:2});class Mn{}var Bn=c("w1tV");class qn{constructor(n){this._restClient=n}sendMessage(n,t){return t?this._restClient.post("/publisher/contact",n).pipe(Object(Bn.a)()):this._restClient.postPublic("/publisher/contact",n).pipe(Object(Bn.a)())}}qn.\u0275fac=function(n){return new(n||qn)(r.qc(U.A))},qn.\u0275prov=r.cc({token:qn,factory:qn.\u0275fac});var An=c("OM7H"),Fn=c("4uM6");function Pn(n,t){if(1&n&&r.hc(0,"img",10),2&n){const n=r.yc(2);r.Gc("src",n.publisher.profile.contactIconUrl,r.dd)}}function On(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1,"\n                "),r.md(2,Pn,1,1,"img",8),r.od(3,"\n\n                "),r.mc(4,"span",9),r.od(5),r.lc(),r.od(6,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher.profile.contactIconUrl),r.Ub(3),r.qd("\n                    ",n.publisher.name,"\n                ")}}function Dn(n,t){if(1&n&&(r.mc(0,"a",14),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_library"),"\n                ")}}function Nn(n,t){if(1&n&&(r.mc(0,"a",15),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/contact"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_contact_us"),"\n                ")}}function En(n,t){if(1&n&&(r.mc(0,"a",14),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Gc("routerLink","/"+n.publisher.url+"/about"),r.Ub(1),r.qd("\n                    ",r.Bc(2,2,n.translations,"publishers.public.tab_about_us"),"\n                ")}}function Vn(n,t){if(1&n&&(r.mc(0,"div",11),r.od(1,"\n                "),r.md(2,Dn,3,5,"a",12),r.od(3,"\n\n                "),r.md(4,Nn,3,5,"a",13),r.od(5,"\n\n                "),r.md(6,En,3,5,"a",12),r.od(7,"\n            "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher),r.Ub(2),r.Gc("ngIf",n.publisher)}}function $n(n,t){1&n&&(r.mc(0,"div",16),r.od(1,"\n            "),r.hc(2,"div",17),r.od(3,"\n        "),r.lc())}function Rn(n,t){if(1&n&&(r.mc(0,"div",26),r.od(1,"\n                "),r.hc(2,"img",27),r.od(3,"\n            "),r.lc()),2&n){const n=r.yc(2);r.Ub(2),r.Gc("src",n.publisher.profile.contactIconUrl,r.dd)}}function Hn(n,t){if(1&n&&(r.mc(0,"li",44),r.od(1,"\n                                    "),r.mc(2,"span",31),r.od(3,"\n                                        "),r.hc(4,"i",32),r.od(5,"\n                                        "),r.mc(6,"div",45),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                                    "),r.lc(),r.od(10,"\n                                "),r.lc()),2&n){const n=r.yc(3);r.Ub(7),r.qd("\n                                            ",r.Bc(8,1,n.translations,"django.This_field_is_required."),"\n                                        ")}}function Wn(n,t){if(1&n&&(r.mc(0,"li",44),r.od(1,"\n                                    "),r.mc(2,"span",31),r.od(3,"\n                                        "),r.hc(4,"i",32),r.od(5,"\n                                        "),r.mc(6,"div",45),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                                    "),r.lc(),r.od(10,"\n                                "),r.lc()),2&n){const n=r.yc(3);r.Ub(7),r.qd("\n                                            ",r.Bc(8,1,n.translations,"django.This_field_is_required."),"\n                                        ")}}function Xn(n,t){if(1&n&&(r.mc(0,"li",44),r.od(1,"\n                                    "),r.mc(2,"span",31),r.od(3,"\n                                        "),r.hc(4,"i",32),r.od(5,"\n                                        "),r.mc(6,"div",45),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                                    "),r.lc(),r.od(10,"\n                                "),r.lc()),2&n){const n=r.yc(3);r.Ub(7),r.qd("\n                                            ",r.Bc(8,1,n.translations,"lorepo.profile.forms.email.invalid"),"\n                                        ")}}function Kn(n,t){if(1&n){const n=r.nc();r.mc(0,"re-captcha",46),r.uc("captchaResponse",(function(t){r.ad(n);return r.yc(3).handleCorrectCaptcha(t)})),r.lc()}if(2&n){const n=r.yc(3);r.Gc("lang",n.lang)}}function Qn(n,t){if(1&n&&(r.mc(0,"li",47),r.od(1,"\n                        "),r.mc(2,"span",31),r.od(3,"\n                            "),r.hc(4,"i",32),r.od(5,"\n                            "),r.mc(6,"div",45),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                        "),r.lc(),r.od(10,"\n                    "),r.lc()),2&n){const n=r.yc(3);r.Ub(7),r.qd("\n                                ",r.Bc(8,1,n.translations,"django.This_field_is_required."),"\n                            ")}}const Yn=function(n){return{"invalid-input":n}};function Jn(n,t){if(1&n){const n=r.nc();r.mc(0,"div",28),r.od(1,"\n                    "),r.mc(2,"div",23),r.od(3,"\n                        "),r.mc(4,"form",29),r.uc("ngSubmit",(function(){r.ad(n);return r.yc(2).sendMessage()})),r.od(5,"\n                            "),r.mc(6,"ul",24),r.od(7,"\n                                "),r.od(8,"\n                                "),r.mc(9,"li",30),r.od(10,"\n                                    "),r.mc(11,"span",31),r.od(12,"\n                                        "),r.mc(13,"i",32),r.od(14,"\ue85a"),r.lc(),r.od(15,"\n                                        "),r.mc(16,"div",33),r.od(17,"\n                                            "),r.mc(18,"input",34),r.uc("ngModelChange",(function(t){r.ad(n);return r.yc(2).message.subject=t}))("blur",(function(){r.ad(n);return r.yc(2).verifySubject()})),r.lc(),r.od(19,"\n                                            "),r.mc(20,"label",35),r.od(21),r.zc(22,"getLabel"),r.lc(),r.od(23,"\n                                        "),r.lc(),r.od(24,"\n                                    "),r.lc(),r.od(25,"\n                                "),r.lc(),r.od(26,"\n\n                                "),r.md(27,Hn,11,4,"li",36),r.od(28,"\n\n                                "),r.od(29,"\n                                "),r.mc(30,"li",30),r.od(31,"\n                                    "),r.mc(32,"span",31),r.od(33,"\n                                        "),r.mc(34,"i",32),r.od(35,"\ue85d"),r.lc(),r.od(36,"\n                                        "),r.mc(37,"div",33),r.od(38,"\n                                            "),r.mc(39,"textarea",37),r.uc("ngModelChange",(function(t){r.ad(n);return r.yc(2).message.message=t}))("blur",(function(){r.ad(n);return r.yc(2).verifyMessage()})),r.lc(),r.od(40,"\n                                            "),r.mc(41,"label",38),r.od(42),r.zc(43,"getLabel"),r.lc(),r.od(44,"\n                                        "),r.lc(),r.od(45,"\n                                    "),r.lc(),r.od(46,"\n                                "),r.lc(),r.od(47,"\n\n                                "),r.md(48,Wn,11,4,"li",36),r.od(49,"\n\n                                "),r.od(50,"\n                                "),r.mc(51,"li",30),r.od(52,"\n                                    "),r.mc(53,"span",31),r.od(54,"\n                                        "),r.mc(55,"i",32),r.od(56,"\ue0be"),r.lc(),r.od(57,"\n                                        "),r.mc(58,"div",33),r.od(59,"\n                                            "),r.mc(60,"input",39),r.uc("ngModelChange",(function(t){r.ad(n);return r.yc(2).message.email=t}))("blur",(function(){r.ad(n);return r.yc(2).verifyEmail()})),r.lc(),r.od(61,"\n                                            "),r.mc(62,"label",40),r.od(63),r.zc(64,"getLabel"),r.lc(),r.od(65,"\n                                        "),r.lc(),r.od(66,"\n                                    "),r.lc(),r.od(67,"\n                                "),r.lc(),r.od(68,"\n\n                                "),r.md(69,Xn,11,4,"li",36),r.od(70,"\n                            "),r.lc(),r.od(71,"\n                        "),r.lc(),r.od(72,"\n                    "),r.lc(),r.od(73,"\n\n                    "),r.md(74,Kn,1,1,"re-captcha",41),r.od(75,"\n                    "),r.md(76,Qn,11,4,"li",42),r.od(77,"\n\n                    "),r.mc(78,"li",30),r.od(79,"\n                        "),r.mc(80,"span",31),r.od(81,"\n                            "),r.hc(82,"i",32),r.od(83,"\n                            "),r.mc(84,"button",43),r.uc("click",(function(){r.ad(n);return r.yc(2).sendMessage()})),r.od(85),r.zc(86,"getLabel"),r.lc(),r.od(87,"\n                        "),r.lc(),r.od(88,"\n                    "),r.lc(),r.od(89,"\n                "),r.lc()}if(2&n){const n=r.yc(2);r.Ub(18),r.Gc("ngModel",n.message.subject)("ngClass",r.Mc(27,Yn,!n.formValid.subject)),r.Ub(3),r.qd("\n                                                ",r.Bc(22,15,n.translations,"publishers.public.contact.subject"),"\n                                            "),r.Ub(6),r.Gc("ngIf",!n.formValid.subject),r.Ub(12),r.Gc("ngModel",n.message.message)("ngClass",r.Mc(29,Yn,!n.formValid.message)),r.Ub(3),r.qd("\n                                                ",r.Bc(43,18,n.translations,"publishers.public.contact.message"),"\n                                            "),r.Ub(6),r.Gc("ngIf",!n.formValid.message),r.Ub(12),r.Gc("ngModel",n.message.email)("ngClass",r.Mc(31,Yn,!n.formValid.email)),r.Ub(3),r.qd("\n                                                ",r.Bc(64,21,n.translations,"publishers.company_details.email"),"\n                                            "),r.Ub(6),r.Gc("ngIf",!n.formValid.email),r.Ub(5),r.Gc("ngIf",!n.sending&&n.lang&&!n.isFranceInstance),r.Ub(2),r.Gc("ngIf",!n.formValid.recaptcha),r.Ub(9),r.qd("\n                                ",r.Bc(86,24,n.translations,"contact_us.Send"),"\n                            ")}}function Zn(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue88a"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.address,"\n                                ")}}function nt(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue88a"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.address2,"\n                                ")}}function tt(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue88a"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.address3,"\n                                ")}}function ct(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue7f1"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.city,"\n                                ")}}function it(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue86f"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.zipCode,"\n                                ")}}function et(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue894"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.country,"\n                                ")}}function ot(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue551"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.phone,"\n                                ")}}function st(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue8bc"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.cellPhone,"\n                                ")}}function lt(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue88e"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.whatsApp,"\n                                ")}}function dt(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue555"),r.lc(),r.od(6),r.lc(),r.od(7,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(6),r.qd("\n                                    ",n.publisher.profile.fax,"\n                                ")}}function rt(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue86f"),r.lc(),r.od(6,"\n                                    "),r.mc(7,"a",48),r.od(8),r.lc(),r.od(9,"\n                                "),r.lc(),r.od(10,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(7),r.Gc("href",n.publisher.profile.wwwWithProtocol,r.dd),r.Ub(1),r.pd(n.publisher.profile.www)}}function at(n,t){if(1&n&&(r.mc(0,"li",30),r.od(1,"\n                                "),r.mc(2,"span",31),r.od(3,"\n                                    "),r.mc(4,"i",32),r.od(5,"\ue0be"),r.lc(),r.od(6,"\n                                    "),r.mc(7,"a",49),r.od(8),r.lc(),r.od(9,"\n                                "),r.lc(),r.od(10,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(7),r.Gc("href","mailto:"+n.publisher.profile.email,r.dd),r.Ub(1),r.pd(n.publisher.profile.email)}}function ut(n,t){if(1&n&&(r.mc(0,"div",18),r.od(1,"\n            "),r.md(2,Rn,4,1,"div",19),r.od(3,"\n            "),r.mc(4,"div",20),r.od(5,"\n                "),r.md(6,Jn,90,33,"div",21),r.od(7,"\n                "),r.mc(8,"div",22),r.od(9,"\n                    "),r.od(10,"\n                    "),r.od(11,"\n\n                    "),r.od(12,"\n\n                    "),r.mc(13,"div",23),r.od(14,"\n                        "),r.mc(15,"ul",24),r.od(16,"\n                            "),r.md(17,Zn,8,1,"li",25),r.od(18,"\n                            "),r.md(19,nt,8,1,"li",25),r.od(20,"\n                            "),r.md(21,tt,8,1,"li",25),r.od(22,"\n                            "),r.md(23,ct,8,1,"li",25),r.od(24,"\n                            "),r.md(25,it,8,1,"li",25),r.od(26,"\n                            "),r.md(27,et,8,1,"li",25),r.od(28,"\n                            "),r.md(29,ot,8,1,"li",25),r.od(30,"\n                            "),r.md(31,st,8,1,"li",25),r.od(32,"\n                            "),r.md(33,lt,8,1,"li",25),r.od(34,"\n                            "),r.md(35,dt,8,1,"li",25),r.od(36,"\n                            "),r.md(37,rt,11,2,"li",25),r.od(38,"\n                            "),r.md(39,at,11,2,"li",25),r.od(40,"\n                        "),r.lc(),r.od(41,"\n                    "),r.lc(),r.od(42,"\n                "),r.lc(),r.od(43,"\n            "),r.lc(),r.od(44,"\n        "),r.lc()),2&n){const n=r.yc();r.Ub(2),r.Gc("ngIf",n.publisher.profile.contactIconUrl),r.Ub(4),r.Gc("ngIf",n.isAuthenticated),r.Ub(11),r.Gc("ngIf",n.publisher.profile.address),r.Ub(2),r.Gc("ngIf",n.publisher.profile.address2),r.Ub(2),r.Gc("ngIf",n.publisher.profile.address3),r.Ub(2),r.Gc("ngIf",n.publisher.profile.city),r.Ub(2),r.Gc("ngIf",n.publisher.profile.zipCode),r.Ub(2),r.Gc("ngIf",n.publisher.profile.country),r.Ub(2),r.Gc("ngIf",n.publisher.profile.phone),r.Ub(2),r.Gc("ngIf",n.publisher.profile.cellPhone),r.Ub(2),r.Gc("ngIf",n.publisher.profile.whatsApp),r.Ub(2),r.Gc("ngIf",n.publisher.profile.fax),r.Ub(2),r.Gc("ngIf",n.publisher.profile.www),r.Ub(2),r.Gc("ngIf",n.publisher.profile.email)}}class mt{constructor(n,t,c,i,e,o,s,l){this._publishers=n,this._route=t,this._translations=c,this._publisherContact=i,this._settings=e,this._infoMessage=o,this._utils=s,this._authUser=l,this.isInitialized=!1,this.isRecaptchaVerified=!1,this.sending=!1,this.isSingleMode=!1,this.isAuthenticated=!1,this.isFranceInstance=!1,this.message=new Mn,this.formValid={subject:!0,message:!0,email:!0,recaptcha:!0}}ngOnInit(){let n=this._route.snapshot.params.publisherUrl||null;this.isFranceInstance=isFranceInstance(),Object(u.a)(this._settings.get(),this._authUser.get()).subscribe(([n,t])=>{this.isAuthenticated=t.isAuthenticated,this.lang=this._translations.getCurrentLanguage(n,t).key,this.isSingleMode=!!n.singlePublisher}),this.message.publisher_url=n,this._publishers.getPublisherByUrl(n).subscribe(n=>{this.publisher=n,this.isInitialized=!0}),this._translations.getTranslations().subscribe(n=>{this.translations=n})}handleCorrectCaptcha(n){this.message.recaptcha_token=n,this.isRecaptchaVerified=!0}sendMessage(){!this.sending&&this.isFormValid()&&(this.sending=!0,this.isRecaptchaVerified=!1,this._publisherContact.sendMessage(this.message,this.isAuthenticated).subscribe(n=>this._infoMessage.addSuccess(this.translations.labels["publishers.public.contact.email_successfully_sended"]),n=>this._infoMessage.addError(this.translations.labels["publishers.public.contact.email_not_sended"]),()=>this.sending=!1))}isFormValid(){let n=!0;return this.formValid.recaptcha=!0,this.verifySubject()||(n=!1),this.verifyMessage()||(n=!1),this.verifyEmail()||(n=!1),this.isRecaptchaVerified||this.isFranceInstance||(n=!1,this.formValid.recaptcha=!1),n}verifySubject(){return this.formValid.subject=!1,this.message.subject&&(this.formValid.subject=!0),this.formValid.subject}verifyMessage(){return this.formValid.message=!1,this.message.message&&(this.formValid.message=!0),this.formValid.message}verifyEmail(){return this.formValid.email=this._utils.verifyEmail(this.message.email),this.formValid.email}}mt.\u0275fac=function(n){return new(n||mt)(r.gc(p.a),r.gc(e.a),r.gc(U.F),r.gc(qn),r.gc(U.D),r.gc(U.o),r.gc(U.K),r.gc(An.a))},mt.\u0275cmp=r.ac({type:mt,selectors:[["ng-component"]],features:[r.Tb([p.a,qn,U.K])],decls:20,vars:4,consts:[["id","library",1,"publisher-library"],[1,"page-title-bar","flex-row"],[1,"page-title-bar__header"],[4,"ngIf"],["class","navigation",4,"ngIf"],["putFooterBottom","",1,"page-content","publishers-data-page"],["class","app-loading-wrapper",4,"ngIf"],["mdl","","class","description",4,"ngIf"],["class","header-logo",3,"src",4,"ngIf"],[1,"header-publisher-text"],[1,"header-logo",3,"src"],[1,"navigation"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect",3,"routerLink",4,"ngIf"],["class","tab-page mdl-button mdl-js-button mdl-js-ripple-effect active-mdl-button",3,"routerLink",4,"ngIf"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect",3,"routerLink"],[1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect","active-mdl-button",3,"routerLink"],[1,"app-loading-wrapper"],[1,"data-loading","mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],["mdl","",1,"description"],["class","mdl-card__title",4,"ngIf"],[1,"mdl-grid"],["class","mdl-cell mdl-cell--6-col",4,"ngIf"],[1,"mdl-cell","mdl-cell--6-col","card-border-left"],[1,"mdl-card__supporting-text"],[1,"demo-list-icon","mdl-list"],["class","mdl-list__item",4,"ngIf"],[1,"mdl-card__title"],[1,"logo",3,"src"],[1,"mdl-cell","mdl-cell--6-col"],[3,"ngSubmit"],[1,"mdl-list__item"],[1,"mdl-list__item-primary-content"],[1,"material-icons","mdl-list__item-icon"],[1,"mdl-textfield","mdl-js-textfield"],["type","text","id","subject","name","subject",1,"mdl-textfield__input",3,"ngModel","ngClass","ngModelChange","blur"],["for","subject",1,"mdl-textfield__label"],["class","mdl-list__item form-alert",4,"ngIf"],["type","text","rows","5","id","message","name","message",1,"mdl-textfield__input",3,"ngModel","ngClass","ngModelChange","blur"],["for","message",1,"mdl-textfield__label"],["type","email","id","email","name","email",1,"mdl-textfield__input",3,"ngModel","ngClass","ngModelChange","blur"],["for","email",1,"mdl-textfield__label"],["class","recaptcha-contact",3,"lang","captchaResponse",4,"ngIf"],["class","mdl-list__item form-alert recaptcha-alert",4,"ngIf"],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent","send-button",3,"click"],[1,"mdl-list__item","form-alert"],[1,"has-error"],[1,"recaptcha-contact",3,"lang","captchaResponse"],[1,"mdl-list__item","form-alert","recaptcha-alert"],["target","_blank",1,"contact-link",3,"href"],[1,"contact-link",3,"href"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.md(6,On,7,2,"h1",3),r.od(7,"\n\n            "),r.md(8,Vn,8,3,"div",4),r.od(9,"\n        "),r.lc(),r.od(10,"\n    "),r.lc(),r.od(11,"\n\n    "),r.mc(12,"div",5),r.od(13,"\n        "),r.md(14,$n,4,0,"div",6),r.od(15,"\n\n        "),r.md(16,ut,45,14,"div",7),r.od(17,"\n    "),r.lc(),r.od(18,"\n"),r.lc(),r.od(19,"\n")),2&n&&(r.Ub(6),r.Gc("ngIf",t.publisher),r.Ub(2),r.Gc("ngIf",!t.isSingleMode),r.Ub(6),r.Gc("ngIf",!t.isInitialized),r.Ub(2),r.Gc("ngIf",t.isInitialized))},directives:[s.t,I.a,e.k,k.a,i.J,i.u,i.v,i.d,i.t,i.w,s.q,Fn.a],pipes:[z.l],encapsulation:2});var bt=c("VCwu"),pt=c("6Pd0"),ht=c("jhN1");class ft{constructor(){}ngOnInit(){}}ft.\u0275fac=function(n){return new(n||ft)},ft.\u0275cmp=r.ac({type:ft,selectors:[["app-navigation"]],inputs:{translations:"translations",publisherCollectionPrefix:"publisherCollectionPrefix",rawNextUrl:"rawNextUrl"},decls:11,vars:10,consts:[[1,"navigation"],["routerLinkActive","active-mdl-button",1,"tab-page","mdl-button","mdl-js-button","mdl-js-ripple-effect",3,"routerLink"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"a",1),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n\n    "),r.mc(6,"a",1),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n"),r.lc(),r.od(10,"\n")),2&n&&(r.Ub(2),r.Gc("routerLink",t.publisherCollectionPrefix+t.rawNextUrl),r.Ub(1),r.qd("\n        ",r.Bc(4,4,t.translations,"publisher.navigation.details"),"\n    "),r.Ub(3),r.Gc("routerLink",t.publisherCollectionPrefix+"/toc"+t.rawNextUrl),r.Ub(1),r.qd("\n        ",r.Bc(8,7,t.translations,"courses.view.Table_Of_Contents"),"\n    "))},directives:[e.k,e.j],pipes:[z.l],encapsulation:2,changeDetection:0});var gt=c("6X+E");function _t(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1),r.lc()),2&n){const n=r.yc();r.Ub(1),r.pd(n.collection.title)}}function Ut(n,t){1&n&&(r.mc(0,"div",12),r.od(1,"\n            "),r.hc(2,"div",13),r.od(3,"\n        "),r.lc())}function vt(n,t){if(1&n&&(r.mc(0,"publisher-collection-chapter",14),r.od(1,"\n        "),r.lc()),2&n){const n=r.yc();r.Gc("collection",n.collection)("collectionDetails",n.collectionDetails)("chapter",null)("userHasAccess",n.userHasAccess)("translations",n.translations)("rawNextUrl",n.rawNextUrl)}}function yt(n,t){if(1&n&&(r.mc(0,"div",15),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc();r.Ub(1),r.qd("\n            ",r.Bc(2,1,n.translations,"polls.list.No_results_found"),"\n        ")}}class It{constructor(n,t,c,i,e,o,s,l){this._collection=n,this._activatedRoute=t,this._infoMessage=c,this._translations=i,this._paths=e,this._authUser=o,this._courses=s,this._domSanitizer=l,this.isInitialized=!1,this.backUrl="/",this.rawNextUrl="",this.publisherCollectionPrefix="/",this.userHasAccess=!1,this.user=null,this.iframeURL=null,this.displayType=pt.a.GRID}ngOnInit(){const n=this._activatedRoute.snapshot.params.publisherUrl||null,t=this._activatedRoute.snapshot.params.collectionUrl||null,c=this._activatedRoute.snapshot.params.keywords||null;this.backUrl+=n,this.publisherCollectionPrefix+=n+"/"+t,Object(u.a)([this._authUser.get(),this._collection.getCollection(n,t,c),this._collection.getCollectionDetails(n,t),this._translations.getTranslations()]).subscribe(([c,i,e,o])=>{c.isAuthenticated&&(this.user=c),this.collectionDetails=e,this.translations=o,i?(i.customTOCEntryPoint&&(this.iframeURL=this._domSanitizer.bypassSecurityTrustResourceUrl(i.customTOCEntryPoint)),i.resources.length>0?(this.collection=i,i.isMixedDisplayType&&(this.displayType=pt.a.CUSTOM),c.isAuthenticated&&this._courses.hasAccess(i.id)&&(this.userHasAccess=!0),this.isInitialized=!0):this._collection.getCollection(n,t).subscribe(n=>{n?(n.isMixedDisplayType&&(this.displayType=pt.a.CUSTOM),this.collection=n,this._infoMessage.addWarning(o.labels["publisher.collection.not-found"]),this.isInitialized=!0):this._infoMessage.error404()})):this._infoMessage.error404()});const i=this._activatedRoute.snapshot.params.next;if(i){const n=this._paths.decodeNextUrl(i);this.rawNextUrl="/next/"+i,this.backUrl=decodeURI(n)}}}It.\u0275fac=function(n){return new(n||It)(r.gc(bt.a),r.gc(e.a),r.gc(U.o),r.gc(U.F),r.gc(U.w),r.gc(U.f),r.gc(U.I),r.gc(ht.b))},It.\u0275cmp=r.ac({type:It,selectors:[["ng-component"]],features:[r.Tb([bt.a])],decls:32,vars:8,consts:[["id","publisher-collection"],[1,"page-title-bar","flex-row","with-back"],[1,"page-title-bar__header"],[1,"mdl-button","mdl-js-button","mdl-button--fab","mdl-button--colored","back-button",3,"routerLink"],[1,"material-icons"],[4,"ngIf"],[1,"right-menu"],[3,"publisherCollectionPrefix","rawNextUrl","translations"],["putFooterBottom","",1,"page-content"],["mdl","","class","app-loading-wrapper",4,"ngIf"],[3,"collection","collectionDetails","chapter","userHasAccess","translations","rawNextUrl",4,"ngIf"],["class","no-content",4,"ngIf"],["mdl","",1,"app-loading-wrapper"],[1,"data-loading","mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],[3,"collection","collectionDetails","chapter","userHasAccess","translations","rawNextUrl"],[1,"no-content"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.mc(6,"a",3),r.od(7,"\n                "),r.mc(8,"i",4),r.od(9,"\ue5cb"),r.lc(),r.od(10,"\n            "),r.lc(),r.od(11,"\n\n            "),r.md(12,_t,2,1,"h1",5),r.od(13,"\n\n            "),r.mc(14,"div",6),r.od(15,"\n                "),r.mc(16,"app-navigation",7),r.od(17,"\n                "),r.lc(),r.od(18,"\n            "),r.lc(),r.od(19,"\n        "),r.lc(),r.od(20,"\n    "),r.lc(),r.od(21,"\n\n    "),r.mc(22,"div",8),r.od(23,"\n        "),r.md(24,Ut,4,0,"div",9),r.od(25,"\n\n        "),r.md(26,vt,2,6,"publisher-collection-chapter",10),r.od(27,"\n\n        "),r.md(28,yt,3,4,"div",11),r.od(29,"\n    "),r.lc(),r.od(30,"\n"),r.lc(),r.od(31,"\n")),2&n&&(r.Ub(6),r.Gc("routerLink",t.backUrl),r.Ub(6),r.Gc("ngIf",t.collection),r.Ub(4),r.Gc("publisherCollectionPrefix",t.publisherCollectionPrefix)("rawNextUrl",t.rawNextUrl)("translations",t.translations),r.Ub(8),r.Gc("ngIf",!t.isInitialized),r.Ub(2),r.Gc("ngIf",t.isInitialized&&t.collection.resources.length>0),r.Ub(2),r.Gc("ngIf",t.isInitialized&&0===t.collection.resources.length))},directives:[e.k,s.t,ft,I.a,k.a,gt.a],pipes:[z.l],encapsulation:2});var Lt=c("bgu/"),kt=c("dLnV");function Gt(n,t){if(1&n&&(r.mc(0,"a",13),r.od(1),r.zc(2,"truncateWords"),r.lc()),2&n){const n=r.yc();r.Gc("href","/structure/demo/"+n.lesson.id+n.nextUrl,r.dd),r.Ub(1),r.qd("\n                        ",r.Bc(2,2,n.lesson.title,36),"\n                    ")}}function wt(n,t){if(1&n&&(r.mc(0,"a",14),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc();r.Gc("href","/structure/demo/"+n.lesson.id+n.nextUrl,r.dd),r.Ub(1),r.qd("\n                            ",r.Bc(2,2,n.translations,"course.Preview"),"\n                        ")}}const xt=function(n){return{"background-image":n}};function Ct(n,t){if(1&n&&r.hc(0,"a",15),2&n){const n=r.yc();r.Gc("href","/structure/demo/"+n.lesson.id+n.nextUrl,r.dd)("ngStyle",r.Mc(2,xt,"url("+(n.lesson.icon?n.lesson.icon:"/media/img/default_course_icon.svg")+")"))}}class zt{constructor(){}ngOnInit(){}}function jt(n,t){if(1&n&&(r.mc(0,"h1"),r.od(1),r.lc()),2&n){const n=r.yc();r.Ub(1),r.pd(n.collection.title)}}function St(n,t){1&n&&(r.mc(0,"div",15),r.od(1,"\n            "),r.hc(2,"div",16),r.od(3,"\n        "),r.lc())}zt.\u0275fac=function(n){return new(n||zt)},zt.\u0275cmp=r.ac({type:zt,selectors:[["app-sample-lesson-card"]],inputs:{translations:"translations",lesson:"lesson",last:"last",nextUrl:"nextUrl"},decls:36,vars:6,consts:[[1,"resource-card","mdl-card","mdl-shadow--2dp",3,"mdlup"],[1,"resource-card__body"],[1,"mdl-card__title"],[1,"resource-card__title-wrapper"],[1,"mdl-card__title-text"],["class","card-link",3,"href",4,"ngIf"],[1,"mdl-card__subtitle-text"],[1,"mdl-button","mdl-js-button","mdl-button--icon","resource-card__actions",3,"id"],[1,"material-icons"],[1,"mdl-menu","mdl-menu--top-left","mdl-js-menu","mdl-js-ripple-effect"],["class","mdl-menu__item",3,"href",4,"ngIf"],[1,"resource-card__icon"],["class","card-link",3,"href","ngStyle",4,"ngIf"],[1,"card-link",3,"href"],[1,"mdl-menu__item",3,"href"],[1,"card-link",3,"href","ngStyle"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.mc(6,"div",3),r.od(7,"\n                "),r.mc(8,"h2",4),r.od(9,"\n                    "),r.md(10,Gt,3,5,"a",5),r.od(11,"\n                "),r.lc(),r.od(12,"\n\n                "),r.mc(13,"div",6),r.od(14,"\n                    "),r.mc(15,"button",7),r.od(16,"\n                        "),r.mc(17,"i",8),r.od(18,"\ue5d3"),r.lc(),r.od(19,"\n                    "),r.lc(),r.od(20,"\n\n                    "),r.mc(21,"ul",9),r.od(22,"\n                        "),r.md(23,wt,3,5,"a",10),r.od(24,"\n                    "),r.lc(),r.od(25,"\n                "),r.lc(),r.od(26,"\n            "),r.lc(),r.od(27,"\n        "),r.lc(),r.od(28,"\n        "),r.mc(29,"div",11),r.od(30,"\n            "),r.md(31,Ct,1,4,"a",12),r.od(32,"\n        "),r.lc(),r.od(33,"\n    "),r.lc(),r.od(34,"\n"),r.lc(),r.od(35,"\n")),2&n&&(r.Gc("mdlup",t.last),r.Ub(10),r.Gc("ngIf",t.lesson.isDemoLesson()),r.Ub(5),r.Gc("id","resource_actions_"+t.lesson.id),r.Ub(6),r.Vb("for","resource_actions_"+t.lesson.id),r.Ub(2),r.Gc("ngIf",t.lesson.isDemoLesson()),r.Ub(8),r.Gc("ngIf",t.lesson.isDemoLesson()))},directives:[G.a,s.t,s.w],pipes:[j.a,z.l],encapsulation:2,changeDetection:0});const Tt=function(n){return{text:n,height:80}};function Mt(n,t){if(1&n){const n=r.nc();r.mc(0,"div",23),r.od(1,"\n                                "),r.mc(2,"div",24),r.od(3,"\n                                    "),r.mc(4,"div",25),r.od(5,"\n                                        "),r.mc(6,"h2",26),r.od(7,"\n                                            "),r.mc(8,"a",27),r.od(9,"\n                                                "),r.hc(10,"span",28),r.zc(11,"getLabel"),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n                                        "),r.lc(),r.od(14,"\n                                    "),r.lc(),r.od(15,"\n                                "),r.lc(),r.od(16,"\n                                "),r.mc(17,"div",29),r.od(18,"\n                                    "),r.mc(19,"a",30),r.uc("click",(function(){r.ad(n);return r.yc(2).clearUserCoursesCache()})),r.od(20),r.zc(21,"getLabel"),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                            "),r.lc()}if(2&n){const n=r.yc(2);r.Ub(10),r.Gc("trim-text",r.Mc(9,Tt,r.Bc(11,3,n.translations,"collection.details.Free_collection_can_remove"))),r.Ub(9),r.Gc("href","/ecommerce/remove_free_course/"+n.collection.id,r.dd),r.Ub(1),r.qd("\n                                        ",r.Bc(21,6,n.translations,"collection.details.Remove_free_collection"),"\n                                    ")}}function Bt(n,t){if(1&n){const n=r.nc();r.mc(0,"div",23),r.od(1,"\n                                "),r.mc(2,"div",24),r.od(3,"\n                                    "),r.mc(4,"div",25),r.od(5,"\n                                        "),r.mc(6,"h2",26),r.od(7,"\n                                            "),r.mc(8,"a",27),r.od(9,"\n                                                "),r.hc(10,"span",28),r.zc(11,"getLabel"),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n                                        "),r.lc(),r.od(14,"\n                                    "),r.lc(),r.od(15,"\n                                "),r.lc(),r.od(16,"\n                                "),r.mc(17,"div",29),r.od(18,"\n                                    "),r.mc(19,"a",30),r.uc("click",(function(){r.ad(n);return r.yc(2).clearUserCoursesCache()})),r.od(20),r.zc(21,"getLabel"),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                            "),r.lc()}if(2&n){const n=r.yc(2);r.Ub(10),r.Gc("trim-text",r.Mc(9,Tt,r.Bc(11,3,n.translations,"collection.details.Free_collection_can_add"))),r.Ub(9),r.Gc("href","/ecommerce/add_free_course?course_id="+n.collection.id,r.dd),r.Ub(1),r.qd("\n                                        ",r.Bc(21,6,n.translations,"collection.details.Add_free_collection"),"\n                                    ")}}function qt(n,t){if(1&n&&(r.mc(0,"li"),r.od(1,"\n                                            "),r.mc(2,"a",37),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                        "),r.lc()),2&n){const n=t.$implicit,c=r.yc(3);r.Ub(2),r.Gc("href","/ecommerce/add_trial_course/"+c.collection.id+"/"+n.id,r.dd),r.Ub(1),r.rd("\n                                                ",n.name,"\n                                                ",r.Bc(4,3,c.translations,"collection.details.add_trial_collection_button"),"\n                                            ")}}function At(n,t){if(1&n&&(r.mc(0,"li"),r.od(1,"\n                                            "),r.mc(2,"a",37),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                        "),r.lc()),2&n){const n=t.$implicit,c=r.yc(3);r.Ub(2),r.Gc("href","/payments/confirmation/"+c.collection.id+"/"+n.id,r.dd),r.Ub(1),r.ud("\n                                                ",n.name,":\n                                                ",n.price,"\n                                                ",n.currency," (",n.durationTimeInDays,"\n                                                ",r.Bc(4,6,c.translations,"payments.confirmation.days"),"\n                                                )\n                                            ")}}const Ft=function(n){return{text:n,height:60}};function Pt(n,t){if(1&n&&(r.mc(0,"div",23),r.od(1,"\n                                "),r.mc(2,"div",31),r.od(3,"\n                                    "),r.mc(4,"div",25),r.od(5,"\n                                        "),r.mc(6,"h2",26),r.od(7,"\n                                            "),r.mc(8,"a",27),r.od(9,"\n                                                "),r.hc(10,"span",28),r.zc(11,"getLabel"),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n                                        "),r.lc(),r.od(14,"\n\n                                        "),r.mc(15,"div",32),r.od(16),r.zc(17,"getLabel"),r.mc(18,"span",33),r.od(19),r.lc(),r.od(20,"\n                                        "),r.lc(),r.od(21,"\n                                    "),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                                "),r.mc(24,"div",34),r.od(25,"\n                                    "),r.mc(26,"button",35),r.od(27),r.zc(28,"getLabel"),r.lc(),r.od(29,"\n\n                                    "),r.mc(30,"ul",36),r.od(31,"\n                                        "),r.mc(32,"li"),r.od(33,"\n                                            "),r.mc(34,"a",37),r.od(35),r.zc(36,"getLabel"),r.lc(),r.od(37,"\n                                        "),r.lc(),r.od(38,"\n                                        "),r.md(39,qt,6,6,"li",38),r.od(40,"\n                                        "),r.md(41,At,6,9,"li",38),r.od(42,"\n                                    "),r.lc(),r.od(43,"\n                                "),r.lc(),r.od(44,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(10),r.Gc("trim-text",r.Mc(20,Ft,r.Bc(11,8,n.translations,"collection.details.Has_access_Can_extend"))),r.Ub(6),r.qd("\n                                            ",r.Bc(17,11,n.translations,"collection.details.Valid_till"),":\n                                            "),r.Ub(3),r.pd(n.hasAccess(n.collection).validTo),r.Ub(8),r.qd("\n                                        ",r.Bc(28,14,n.translations,"collection.details.Extend_your_license"),"\n                                    "),r.Ub(7),r.Gc("href","/ecommerce/unlock_course/"+n.collection.id,r.dd),r.Ub(1),r.qd("\n                                                ",r.Bc(36,17,n.translations,"ecommerce.Unlock_course_with_access_code"),"\n                                            "),r.Ub(4),r.Gc("ngForOf",n.collection.trialLicenses),r.Ub(2),r.Gc("ngForOf",n.collection.nonTrialLicenses)}}function Ot(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                                    "),r.mc(2,"span",33),r.od(3),r.lc(),r.od(4),r.zc(5,"getLabel"),r.jc()),2&n){const n=r.yc().$implicit,t=r.yc(3);r.Ub(3),r.rd("",n.price,"\n                                                        ",n.currency,""),r.Ub(1),r.rd("\n                                                    (",n.durationTimeInDays,"\n                                                    ",r.Bc(5,4,t.translations,"payments.confirmation.days"),"\n                                                    )\n                                                ")}}function Dt(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                                    "),r.mc(2,"span",33),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                                "),r.jc()),2&n){const n=r.yc(4);r.Ub(3),r.pd(r.Bc(4,1,n.translations,"collection.details.paid.free.license.description"))}}function Nt(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                            "),r.mc(2,"a",42),r.od(3),r.zc(4,"getLabel"),r.lc(),r.od(5,"\n                                        "),r.jc()),2&n){const n=r.yc().$implicit,t=r.yc(3);r.Ub(2),r.Gc("href","/ecommerce/add_trial_course/"+t.collection.id+"/"+n.id,r.dd),r.Ub(1),r.qd("\n                                                ",r.Bc(4,2,t.translations,"collection.details.add_trial_collection_button"),"\n                                            ")}}function Et(n,t){if(1&n&&(r.mc(0,"a",42),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2).$implicit,t=r.yc(3);r.Gc("href","/payments/confirmation/"+t.collection.id+"/"+n.id,r.dd),r.Ub(1),r.qd("\n                                                ",r.Bc(2,2,t.translations,"payments.confirmation.Buy"),"\n                                            ")}}function Vt(n,t){if(1&n&&(r.od(0,"\n                                            "),r.md(1,Et,3,5,"a",43),r.od(2,"\n                                        ")),2&n){const n=r.yc().$implicit;r.Ub(1),r.Gc("ngIf",!n.is_trial_on)}}function $t(n,t){if(1&n&&(r.mc(0,"div",23),r.od(1,"\n                                    "),r.mc(2,"div",31),r.od(3,"\n                                        "),r.mc(4,"div",25),r.od(5,"\n                                            "),r.mc(6,"h2",26),r.od(7,"\n                                                "),r.mc(8,"a",27),r.od(9,"\n                                                    "),r.hc(10,"span",28),r.od(11,"\n                                                "),r.lc(),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n\n                                            "),r.mc(14,"div",32),r.od(15,"\n                                                "),r.md(16,Ot,6,7,"ng-container",5),r.od(17,"\n                                                "),r.md(18,Dt,6,4,"ng-container",5),r.od(19,"\n                                            "),r.lc(),r.od(20,"\n                                        "),r.lc(),r.od(21,"\n                                    "),r.lc(),r.od(22,"\n                                    "),r.mc(23,"div",29),r.od(24,"\n                                        "),r.md(25,Nt,6,5,"ng-container",40),r.od(26,"\n                                        "),r.md(27,Vt,3,1,"ng-template",null,41,r.nd),r.od(29,"\n                                    "),r.lc(),r.od(30,"\n                                "),r.lc()),2&n){const n=t.$implicit,c=r.Wc(28);r.Ub(10),r.Gc("trim-text",r.Mc(5,Ft,n.name)),r.Ub(6),r.Gc("ngIf",!n.is_trial_on),r.Ub(2),r.Gc("ngIf",n.is_trial_on),r.Ub(7),r.Gc("ngIf",n.is_trial_on)("ngIfElse",c)}}function Rt(n,t){if(1&n&&(r.mc(0,"div"),r.od(1,"\n                                "),r.md(2,$t,31,7,"div",39),r.od(3,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(2),r.Gc("ngForOf",n.collection.licenses)}}function Ht(n,t){if(1&n&&(r.mc(0,"div",23),r.od(1,"\n                                "),r.mc(2,"div",24),r.od(3,"\n                                    "),r.mc(4,"div",25),r.od(5,"\n                                        "),r.mc(6,"h2",26),r.od(7,"\n                                            "),r.mc(8,"a",27),r.od(9,"\n                                                "),r.hc(10,"span",28),r.zc(11,"getLabel"),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n                                        "),r.lc(),r.od(14,"\n                                    "),r.lc(),r.od(15,"\n                                "),r.lc(),r.od(16,"\n                                "),r.mc(17,"div",29),r.od(18,"\n                                    "),r.mc(19,"a",44),r.od(20),r.zc(21,"getLabel"),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(10),r.Gc("trim-text",r.Mc(9,Tt,r.Bc(11,3,n.translations,"collection.details.You_can_unlock_this_collection"))),r.Ub(9),r.Gc("href","/ecommerce/unlock_course/"+n.collection.id,r.dd),r.Ub(1),r.qd("\n                                        ",r.Bc(21,6,n.translations,"lorepo.publishers.library.unlock"),"\n                                    ")}}function Wt(n,t){if(1&n&&(r.mc(0,"div",23),r.od(1,"\n                                "),r.mc(2,"div",24),r.od(3,"\n                                    "),r.mc(4,"div",25),r.od(5,"\n                                        "),r.mc(6,"h2",26),r.od(7,"\n                                            "),r.mc(8,"a",27),r.od(9,"\n                                                "),r.hc(10,"span",28),r.zc(11,"getLabel"),r.od(12,"\n                                            "),r.lc(),r.od(13,"\n                                        "),r.lc(),r.od(14,"\n                                    "),r.lc(),r.od(15,"\n                                "),r.lc(),r.od(16,"\n                                "),r.mc(17,"div",29),r.od(18,"\n                                    "),r.mc(19,"a",45),r.od(20),r.zc(21,"getLabel"),r.lc(),r.od(22,"\n                                "),r.lc(),r.od(23,"\n                            "),r.lc()),2&n){const n=r.yc(2);r.Ub(10),r.Gc("trim-text",r.Mc(9,Tt,r.Bc(11,3,n.translations,"collection.details.You_can_contact_publisher"))),r.Ub(9),r.Gc("routerLink","/"+n.collection.owner.data.url+"/contact"),r.Ub(1),r.qd("\n                                        ",r.Bc(21,6,n.translations,"collection.details.Contact_publisher"),"\n                                    ")}}const Xt=function(n,t){return{paid:n,free:t}};function Kt(n,t){if(1&n&&(r.mc(0,"section",17),r.od(1,"\n                    "),r.mc(2,"div",18),r.od(3,"\n                        "),r.mc(4,"div",19),r.od(5,"\n                            "),r.mc(6,"h2"),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                        "),r.lc(),r.od(10,"\n                        "),r.mc(11,"div",20),r.od(12,"\n                            "),r.od(13,"\n                            "),r.md(14,Mt,24,11,"div",21),r.od(15,"\n                            "),r.od(16,"\n                            "),r.md(17,Bt,24,11,"div",21),r.od(18,"\n                            "),r.od(19,"\n                            "),r.md(20,Pt,45,22,"div",21),r.od(21,"\n                            "),r.od(22,"\n                            "),r.md(23,Rt,4,1,"div",5),r.od(24,"\n                            "),r.od(25,"\n                            "),r.md(26,Ht,24,11,"div",21),r.od(27,"\n                            "),r.od(28,"\n                            "),r.md(29,Wt,24,11,"div",21),r.od(30,"\n                        "),r.lc(),r.od(31,"\n                    "),r.lc(),r.od(32,"\n                    "),r.hc(33,"div",22),r.od(34,"\n                "),r.lc()),2&n){const n=r.yc();r.Gc("ngClass",r.Nc(11,Xt,n.collection.eCommerce.isPaid()||n.collection.eCommerce.isUnlock(),n.collection.eCommerce.isFree())),r.Ub(7),r.qd("\n                                ",r.Bc(8,8,n.translations,"collection.details.Licenses"),"\n                            "),r.Ub(7),r.Gc("ngIf",n.hasAccess(n.collection)&&n.collection.eCommerce.isFree()),r.Ub(3),r.Gc("ngIf",!n.hasAccess(n.collection)&&n.collection.eCommerce.isFree()),r.Ub(3),r.Gc("ngIf",n.hasAccess(n.collection)&&(n.collection.eCommerce.isPaid()||n.collection.eCommerce.isUnlock())),r.Ub(3),r.Gc("ngIf",!n.hasAccess(n.collection)&&(n.collection.eCommerce.isUnlock()||n.collection.eCommerce.isPaid())),r.Ub(3),r.Gc("ngIf",!n.hasAccess(n.collection)&&(n.collection.eCommerce.isPaid()||n.collection.eCommerce.isUnlock())),r.Ub(3),r.Gc("ngIf",n.collection.owner.isPublisher())}}function Qt(n,t){if(1&n&&(r.mc(0,"span"),r.od(1),r.zc(2,"getLabel"),r.mc(3,"a",49),r.od(4),r.lc(),r.od(5,"\n                                "),r.lc()),2&n){const n=r.yc(2);r.Ub(1),r.qd("",r.Bc(2,3,n.translations,"collection.details.Publisher"),"\n                                    :\n                                    "),r.Ub(2),r.Gc("routerLink","/"+n.collection.owner.data.url),r.Ub(1),r.pd(n.collection.owner.name)}}function Yt(n,t){if(1&n&&(r.mc(0,"span"),r.od(1),r.zc(2,"getLabel"),r.mc(3,"span",50),r.od(4),r.lc(),r.od(5,"\n                                "),r.lc()),2&n){const n=r.yc(2);r.Ub(1),r.qd("",r.Bc(2,2,n.translations,"collection.details.Owner"),"\n                                    :\n                                    "),r.Ub(3),r.pd(n.collection.owner.name)}}function Jt(n,t){if(1&n&&r.hc(0,"p",51),2&n){const n=r.yc(2);r.Gc("innerHTML",n.descriptionToDisplay,r.bd)}}function Zt(n,t){if(1&n&&(r.mc(0,"p"),r.od(1),r.zc(2,"getLabel"),r.lc()),2&n){const n=r.yc(2);r.Ub(1),r.qd("\n                                ",r.Bc(2,1,n.translations,"structure.view.empty_content"),"\n                            ")}}function nc(n,t){if(1&n&&(r.mc(0,"section",46),r.od(1,"\n                    "),r.mc(2,"div",18),r.od(3,"\n                        "),r.mc(4,"div",19),r.od(5,"\n                            "),r.mc(6,"h2"),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                        "),r.lc(),r.od(10,"\n                        "),r.mc(11,"div",20),r.od(12,"\n                            "),r.mc(13,"p",47),r.od(14,"\n                                "),r.md(15,Qt,6,6,"span",5),r.od(16,"\n                                "),r.md(17,Yt,6,5,"span",5),r.od(18,"\n                            "),r.lc(),r.od(19,"\n\n                            "),r.md(20,Jt,1,1,"p",48),r.od(21,"\n\n                            "),r.md(22,Zt,3,4,"p",5),r.od(23,"\n                        "),r.lc(),r.od(24,"\n                    "),r.lc(),r.od(25,"\n                "),r.lc()),2&n){const n=r.yc();r.Ub(7),r.qd("\n                                ",r.Bc(8,5,n.translations,"structure.view.Description"),"\n                            "),r.Ub(8),r.Gc("ngIf",n.collection.owner.isPublisher()),r.Ub(2),r.Gc("ngIf",n.collection.owner.isUser()),r.Ub(3),r.Gc("ngIf",n.collection.description.length>0),r.Ub(2),r.Gc("ngIf",!n.hasDetails)}}function tc(n,t){if(1&n&&(r.kc(0),r.od(1,"\n                                "),r.mc(2,"app-sample-lesson-card",55),r.od(3,"\n                                "),r.lc(),r.od(4,"\n                            "),r.jc()),2&n){const n=t.$implicit,c=t.last,i=r.yc(3);r.Ub(2),r.Gc("lesson",n)("last",c)("translations",i.translations)("nextUrl",i.nextUrl)}}function cc(n,t){if(1&n&&(r.mc(0,"section",54),r.od(1,"\n                            "),r.md(2,tc,5,4,"ng-container",38),r.od(3,"\n                        "),r.lc()),2&n){const n=r.yc(2);r.Ub(2),r.Gc("ngForOf",n.collection.sampleLessons)}}function ic(n,t){if(1&n&&(r.mc(0,"section",52),r.od(1,"\n                    "),r.mc(2,"div",18),r.od(3,"\n                        "),r.mc(4,"div",19),r.od(5,"\n                            "),r.mc(6,"h2"),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                        "),r.lc(),r.od(10,"\n                        "),r.mc(11,"div",20),r.od(12,"\n                            "),r.hc(13,"p",51),r.od(14,"\n                        "),r.lc(),r.od(15,"\n\n                        "),r.md(16,cc,4,1,"section",53),r.od(17,"\n                    "),r.lc(),r.od(18,"\n                "),r.lc()),2&n){const n=r.yc();r.Ub(7),r.qd("\n                                ",r.Bc(8,3,n.translations,"structure.view.Samples"),"\n                            "),r.Ub(6),r.Gc("innerHTML",n.collection.sampleLessonsDescription,r.bd),r.Ub(3),r.Gc("ngIf",n.isInitialized)}}function ec(n,t){if(1&n&&(r.mc(0,"div",58),r.od(1,"\n                                "),r.hc(2,"img",59),r.od(3,"\n                            "),r.lc()),2&n){const n=t.$implicit;r.Ub(2),r.Gc("src",n.url,r.dd)}}function oc(n,t){if(1&n&&(r.mc(0,"section",46),r.od(1,"\n                    "),r.mc(2,"div",18),r.od(3,"\n                        "),r.mc(4,"div",19),r.od(5,"\n                            "),r.mc(6,"h2"),r.od(7),r.zc(8,"getLabel"),r.lc(),r.od(9,"\n                        "),r.lc(),r.od(10,"\n                        "),r.mc(11,"div",20),r.od(12,"\n                            "),r.hc(13,"p",51),r.od(14,"\n                        "),r.lc(),r.od(15,"\n\n                        "),r.mc(16,"div",56),r.od(17,"\n                            "),r.md(18,ec,4,1,"div",57),r.od(19,"\n                        "),r.lc(),r.od(20,"\n                    "),r.lc(),r.od(21,"\n                "),r.lc()),2&n){const n=r.yc();r.Ub(7),r.qd("\n                                ",r.Bc(8,3,n.translations,"structure.view.Screenshots"),"\n                            "),r.Ub(6),r.Gc("innerHTML",n.collection.screenShotsDescription,r.bd),r.Ub(5),r.Gc("ngForOf",n.collection.screenShots)}}class sc{constructor(n,t,c,i,e,o,s,l,d){this._collection=n,this._route=t,this._infoMessage=c,this._translations=i,this._authUser=e,this._paths=o,this._userCourses=s,this._uiSettings=l,this._settings=d,this.isInitialized=!1,this.nextUrl="",this.backUrl="",this.rawNextUrl="",this.publisherCollectionPrefix="",this.uiSettings=new y.a,this.descriptionToDisplay=""}ngOnInit(){const n=this._route.snapshot.params.publisherUrl||null,t=this._route.snapshot.params.collectionUrl||null;this.publisherCollectionPrefix="/"+n+"/"+t,this.nextUrl="/next/"+this._paths.encodeNextUrl("/"+n+"/"+t),this.backUrl="/"+n,this._translations.getTranslations().subscribe(n=>this.translations=n),Object(u.a)(this._collection.getCollectionDetails(n,t),this._uiSettings.get(),this._settings.get(),this._authUser.get()).subscribe(([n,t,c,i])=>{const e=n;this.uiSettings=t,this.settings=c,this.user=i,e?(this.collection=e,this.hasDetails=this.collection.description.length>0||this.collection.screenShots.length>0||this.collection.sampleLessons.length>0,this.descriptionToDisplay=this.settings.teacherBasedOnProfileType&&this.user.isTeacher()&&this.collection.teacher_description?this.collection.teacher_description:this.collection.description,this.isInitialized=!0):this._infoMessage.error404()});const c=this._route.snapshot.params.next;c&&(this.rawNextUrl="/next/"+c,this.nextUrl="/next/"+this._paths.encodeNextUrl("/"+n+"/"+t+this.rawNextUrl),this.backUrl=this._paths.decodeNextUrl(c))}hasAccess(n){return this._userCourses.hasAccess(n.id)}clearUserCoursesCache(){this._userCourses.clearCache()}}sc.\u0275fac=function(n){return new(n||sc)(r.gc(bt.a),r.gc(e.a),r.gc(U.o),r.gc(U.F),r.gc(U.f),r.gc(U.w),r.gc(U.I),r.gc(v.a),r.gc(U.D))},sc.\u0275cmp=r.ac({type:sc,selectors:[["ng-component"]],features:[r.Tb([bt.a])],decls:45,vars:10,consts:[["id","publisher-collection-details"],[1,"page-title-bar","flex-row","with-back"],[1,"page-title-bar__header"],[1,"mdl-button","mdl-js-button","mdl-button--fab","mdl-button--colored","back-button",3,"routerLink"],[1,"material-icons"],[4,"ngIf"],[3,"publisherCollectionPrefix","rawNextUrl","translations"],["putFooterBottom","",1,"page-content"],["mdl","","class","app-loading-wrapper",4,"ngIf"],[1,"grid"],[1,"grid__right"],["mdl","","class","section section-details section-details__licenses",3,"ngClass",4,"ngIf"],[1,"grid__content"],["mdl","","class","section section-details",4,"ngIf"],["mdl","","class","section section-details section-details__samples",4,"ngIf"],["mdl","",1,"app-loading-wrapper"],[1,"data-loading","mdl-spinner","mdl-spinner--single-color","mdl-js-spinner","is-active"],["mdl","",1,"section","section-details","section-details__licenses",3,"ngClass"],[1,"section-body"],[1,"section-title","flex-row"],[1,"description"],["class","license-card mdl-card mdl-shadow--2dp",4,"ngIf"],[1,"clear-both"],[1,"license-card","mdl-card","mdl-shadow--2dp"],[1,"mdl-card__title","mdl-card__title-big"],[1,"license-card__title-wrapper"],[1,"mdl-card__title-text"],[1,"card-link"],[3,"trim-text"],[1,"license-card__icon"],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent","free",3,"href","click"],[1,"mdl-card__title"],[1,"mdl-card__subtitle-text"],[1,"license-card__accent"],["mdl","",1,"license-card__icon"],["id","extend-license-btn",1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent","paid"],["for","extend-license-btn",1,"mdl-menu","mdl-menu--bottom-right","mdl-js-menu","mdl-js-ripple-effect"],[1,"mdl-menu__item",3,"href"],[4,"ngFor","ngForOf"],["class","license-card mdl-card mdl-shadow--2dp",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["paidNonTrial",""],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent","paid",3,"href"],["class","mdl-button mdl-js-button mdl-button--raised mdl-button--accent paid",3,"href",4,"ngIf"],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent","unlock",3,"href"],[1,"mdl-button","mdl-js-button","mdl-button--raised","mdl-button--accent",3,"routerLink"],["mdl","",1,"section","section-details"],[1,"description__publisher"],[3,"innerHTML",4,"ngIf"],[1,"description__publisher-name",3,"routerLink"],[1,"description__publisher-name"],[3,"innerHTML"],["mdl","",1,"section","section-details","section-details__samples"],["mdl","","class","chapter",4,"ngIf"],["mdl","",1,"chapter"],[3,"lesson","last","translations","nextUrl"],[1,"screen-shots"],["class","screen-shot-card",4,"ngFor","ngForOf"],[1,"screen-shot-card"],[3,"src"]],template:function(n,t){1&n&&(r.mc(0,"div",0),r.od(1,"\n    "),r.mc(2,"div",1),r.od(3,"\n        "),r.mc(4,"div",2),r.od(5,"\n            "),r.mc(6,"a",3),r.od(7,"\n                "),r.mc(8,"i",4),r.od(9,"\ue5cb"),r.lc(),r.od(10,"\n            "),r.lc(),r.od(11,"\n\n            "),r.md(12,jt,2,1,"h1",5),r.od(13,"\n\n            "),r.mc(14,"app-navigation",6),r.od(15,"\n            "),r.lc(),r.od(16,"\n        "),r.lc(),r.od(17,"\n    "),r.lc(),r.od(18,"\n\n    "),r.mc(19,"div",7),r.od(20,"\n        "),r.md(21,St,4,0,"div",8),r.od(22,"\n\n        "),r.mc(23,"div",9),r.od(24,"\n            "),r.mc(25,"div",10),r.od(26,"\n                "),r.md(27,Kt,35,14,"section",11),r.od(28,"\n            "),r.lc(),r.od(29,"\n\n            "),r.mc(30,"div",12),r.od(31,"\n                "),r.od(32,"\n                "),r.md(33,nc,26,8,"section",13),r.od(34,"\n                "),r.od(35,"\n                "),r.md(36,ic,19,6,"section",14),r.od(37,"\n                "),r.od(38,"\n                "),r.md(39,oc,22,6,"section",13),r.od(40,"\n            "),r.lc(),r.od(41,"\n        "),r.lc(),r.od(42,"\n    "),r.lc(),r.od(43,"\n"),r.lc(),r.od(44,"\n")),2&n&&(r.Ub(6),r.Gc("routerLink",t.backUrl),r.Ub(6),r.Gc("ngIf",t.collection),r.Ub(2),r.Gc("publisherCollectionPrefix",t.publisherCollectionPrefix)("rawNextUrl",t.rawNextUrl)("translations",t.translations),r.Ub(7),r.Gc("ngIf",!t.isInitialized),r.Ub(6),r.Gc("ngIf",t.isInitialized&&!t.uiSettings.myContentCollectionsHideAddPanel),r.Ub(6),r.Gc("ngIf",t.isInitialized&&t.hasDetails),r.Ub(3),r.Gc("ngIf",t.isInitialized&&t.hasDetails&&t.collection.sampleLessons.length>0),r.Ub(3),r.Gc("ngIf",t.isInitialized&&t.hasDetails&&t.collection.screenShots.length>0))},directives:[e.k,s.t,ft,I.a,k.a,s.q,Lt.a,s.s,zt],pipes:[z.l],encapsulation:2});var lc=c("D27A"),dc=c("x7de"),rc=c("ntOz"),ac=c("dnAM");function uc(n,t){if(1&n&&(r.mc(0,"div",2),r.od(1,"\n    "),r.mc(2,"div",3),r.od(3,"\n        "),r.mc(4,"div",4),r.od(5,"\n            "),r.hc(6,"left-side-title",5),r.zc(7,"getLabel"),r.zc(8,"getLabel"),r.od(9,"\n        "),r.lc(),r.od(10,"\n    "),r.lc(),r.od(11,"\n    "),r.mc(12,"div",6),r.od(13,"\n        "),r.mc(14,"div",7),r.od(15,"\n            "),r.mc(16,"div",8),r.od(17,"\n                "),r.mc(18,"table",9),r.od(19,"\n                    "),r.mc(20,"caption"),r.od(21,"\n                        "),r.mc(22,"div",10),r.od(23,"\n                            "),r.mc(24,"app-lesson-caption-image-and-details",11),r.od(25,"\n                            "),r.lc(),r.od(26,"\n                        "),r.lc(),r.od(27,"\n                    "),r.lc(),r.od(28,"\n                "),r.lc(),r.od(29,"\n            "),r.lc(),r.od(30,"\n        "),r.lc(),r.od(31,"\n    "),r.lc(),r.od(32,"\n"),r.lc()),2&n){const n=r.yc();r.Ub(6),r.Gc("titleValue",r.Bc(7,10,n.translations,"lesson.details.title.value"))("subtitleValue",r.Bc(8,13,n.translations,"lesson.details.subtitle.prefix")+" "+n.lesson.course.title)("backRouterLink",n.backUrl),r.Ub(18),r.Gc("translations",n.translations)("name",n.lesson.title)("getIcon",n.lesson.getIcon)("description",n.lesson.getDescription)("settings",n.settings)("user",n.user)("timezoneSettings",n.timezoneSettings)}}function mc(n,t){1&n&&(r.mc(0,"div",12),r.od(1,"\n    "),r.hc(2,"app-loading"),r.od(3,"\n"),r.lc())}class bc{constructor(n,t,c,i,e,o,s,l,d){this._authService=n,this._translations=t,this._activeRoute=c,this._path=i,this._lessonServices=e,this._infoMessage=o,this._settings=s,this._authUser=l,this._timezoneSettings=d,this.backUrl="",this.resourceId="",this.isInitialized=!1,this.settings=new kt.Settings,this.timezoneSettings=null}ngOnInit(){this._timezoneSettings.getTimezoneSettings().subscribe(n=>this.timezoneSettings=n);const n=this._activeRoute.snapshot.params;this.publisherUrl=n.publisherUrl,this.resourceId=n.resourceId,n.next?this.backUrl=this._path.decodeNextUrl(n.next):this.backUrl="/structure",Object(u.a)(this._translations.getTranslations(),this._authService.get(),this._settings.get(),this._authUser.get()).subscribe(([n,t,c,i])=>{this.user=i,this.translations=n,this.settings=c;(t.isAuthenticated?this._lessonServices.getPublisherLessonDetails(this.publisherUrl,this.resourceId):this._lessonServices.getPublicPublisherLessonDetails(this.publisherUrl,this.resourceId)).subscribe(n=>{this.lesson=n,this.isInitialized=!0},n=>{this._infoMessage.error404()})})}}bc.\u0275fac=function(n){return new(n||bc)(r.gc(U.f),r.gc(U.F),r.gc(e.a),r.gc(U.w),r.gc(lc.a),r.gc(U.o),r.gc(U.D),r.gc(U.f),r.gc(dc.a))},bc.\u0275cmp=r.ac({type:bc,selectors:[["ng-component"]],features:[r.Tb([lc.a])],decls:4,vars:2,consts:[["id","publisher-lesson-details",4,"ngIf"],["class","app-loading-wrapper",4,"ngIf"],["id","publisher-lesson-details"],[1,"page-title-bar","flex-row","with-back"],[1,"page-title-bar__header"],[3,"titleValue","subtitleValue","backRouterLink"],["putFooterBottom","",1,"page-content"],["id","lesson-caption-table"],[1,"table-wrapper"],["mdl","",1,"mdl-data-table","mdl-js-data-table","mdl-shadow--2dp","mdl-cell","mdl-cell--12-col","data-table-info"],[1,"caption-content"],[3,"translations","name","getIcon","description","settings","user","timezoneSettings"],[1,"app-loading-wrapper"]],template:function(n,t){1&n&&(r.md(0,uc,33,16,"div",0),r.od(1,"\n\n"),r.md(2,mc,4,0,"div",1),r.od(3,"\n")),2&n&&(r.Gc("ngIf",t.isInitialized),r.Ub(2),r.Gc("ngIf",!t.isInitialized))},directives:[s.t,rc.a,I.a,k.a,ac.a,m.v],pipes:[z.l],encapsulation:2});const pc=[{path:"",component:a,children:[{path:":publisherUrl",component:In,data:{title:"%path_id"}},{path:":publisherUrl/contact",component:mt,data:{title:"%path_id.contact"}},{path:":publisherUrl/about",component:Tn,data:{title:"%path_id.about"}},{path:":publisherUrl/:collectionUrl",component:sc,data:{title:"%path_id.%path_id"}},{path:":publisherUrl/:collectionUrl/next/:next",component:sc,data:{title:"%path_id.%path_id.next.%path_id"}},{path:":publisherUrl/:collectionUrl/toc",component:It,data:{title:"%path_id.%path_id.toc"}},{path:":publisherUrl/:collectionUrl/toc/next/:next",component:It,data:{title:"%path_id.%path_id.toc.next.%path_id"}},{path:":publisherUrl/:collectionUrl/toc/:keywords",component:It,data:{title:"%path_id.%path_id.toc.%path_id"}},{path:":publisherUrl/:collectionUrl/toc/:keywords/next/:next",component:It,data:{title:"%path_id.%path_id.toc.%path_id.next.%path_id"}},{path:":publisherUrl/:collectionUrl/:resourceId",component:bc,data:{title:"%path_id.%path_id.%path_id"}},{path:":publisherUrl/:collectionUrl/:resourceId/next/:next",component:bc,data:{title:"%path_id.%path_id.%path_id.next.%path_id"}}]}];var hc=c("jaxi"),fc=c("IU59"),gc=c("fr/o");class _c{}_c.\u0275mod=r.ec({type:_c}),_c.\u0275inj=r.dc({factory:function(n){return new(n||_c)},imports:[[s.c,i.n,e.l,o.b,hc.c,fc.a,gc.a,l.a,e.l.forChild(pc),d.a]]})},ppjm:function(n,t,c){"use strict";c.d(t,"a",(function(){return r}));var i=c("fXoL"),e=c("tyNb"),o=c("Qu3c"),s=c("ofXK");const l=["cardLink"],d=function(n,t,c){return{"-webkit-line-clamp":n,"line-height":t,cursor:c}};class r{constructor(){this.shouldDisplayTooltip=!1}static convertREMtoNumber(n){const t=parseInt(getComputedStyle(document.documentElement).fontSize,10);return+n.trim().replace("rem","")*t}static convertPXtoNumber(n){return+n.replace("px","")}ngOnInit(){this.updateFontSize()}ngAfterViewInit(){setTimeout(()=>{this.updateDisplayTooltipStatus()},2e3)}updateDisplayTooltipStatus(){const n=this.cardLink.nativeElement,t=n.offsetHeight,c=n.scrollHeight,i=n.offsetWidth,e=n.scrollWidth;this.shouldDisplayTooltip=t<c||i<e}updateFontSize(){const n=window.getComputedStyle(document.body).getPropertyValue("--course-card-title-font-size");this.fontSize=this.getFontSize(n)}getFontSize(n){return n.includes("rem")?r.convertREMtoNumber(n):r.convertPXtoNumber(n)}getTextLineNumber(){return Math.floor(100/(1.25*this.fontSize))}getLineHeight(){return Math.floor(1.25*this.fontSize)+"px"}}r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=i.ac({type:r,selectors:[["mcourser-ui-card-link"]],viewQuery:function(n,t){var c;(1&n&&i.vd(l,!0),2&n)&&(i.Vc(c=i.vc())&&(t.cardLink=c.first))},inputs:{courseTitle:"courseTitle",courseLink:"courseLink",tabIndex:"tabIndex"},decls:10,vars:11,consts:[[1,"anchor-wrapper"],[1,"card-link",3,"matTooltip","matTooltipClass","matTooltipDisabled","tabindex","routerLink","ngStyle"],[1,"collection-title"],["cardLink",""]],template:function(n,t){1&n&&(i.mc(0,"div",0),i.od(1,"\n    "),i.mc(2,"a",1),i.od(3,"\n        "),i.mc(4,"span",2,3),i.od(6),i.lc(),i.od(7,"\n    "),i.lc(),i.od(8,"\n"),i.lc(),i.od(9,"\n")),2&n&&(i.Ub(2),i.Gc("matTooltip",t.courseTitle)("matTooltipClass","card_title_tooltip")("matTooltipDisabled",!t.shouldDisplayTooltip)("tabindex",t.tabIndex)("routerLink",t.courseLink)("ngStyle",i.Oc(7,d,t.getTextLineNumber(),t.getLineHeight(),t.courseLink?"pointer":"default")),i.Ub(4),i.pd(t.courseTitle))},directives:[e.k,o.a,s.w],styles:[".anchor-wrapper[_ngcontent-%COMP%]{width:100%}.anchor-wrapper[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]{width:100%;border-radius:4px;border:2px solid transparent;border-left-width:0;text-overflow:ellipsis;overflow:hidden;display:-webkit-box!important;-webkit-box-orient:vertical}.anchor-wrapper[_ngcontent-%COMP%]   .card-link[_ngcontent-%COMP%]   .collection-title[_ngcontent-%COMP%]{width:calc(100% - 5.5rem);overflow-wrap:break-word}"]})}}]);